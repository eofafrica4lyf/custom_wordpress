(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4630a80c"],{"1af6":function(t,e,n){var a=n("63b6");a(a.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var a=n("d9f6"),c=n("aebd");t.exports=function(t,e,n){e in t?a.f(t,e,c(0,n)):t[e]=n}},"2fdb":function(t,e,n){"use strict";var a=n("5ca1"),c=n("d2c8"),o="includes";a(a.P+a.F*n("5147")(o),"String",{includes:function(t){return!!~c(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"3b06":function(t,e,n){},"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"456d":function(t,e,n){var a=n("4bf8"),c=n("0d58");n("5eda")("keys",(function(){return function(t){return c(a(t))}}))},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"46c5":function(t,e,n){"use strict";var a=n("3b06"),c=n.n(a);c.a},5044:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tab-pane",attrs:{id:"notifications"}},[a("div",{staticClass:"card-deck mb-2 text-center"},[a("div",{staticClass:"card mb-2"},[a("div",{staticClass:"card-body post-module pb-20"},[a("div",{staticClass:"row m-20 pt-25"},[t.userIsNigerian?[a("div",{staticClass:"col-md-6 col-sm-8 col-xs-12 text-left"},[t.userHasAccount?[a("div",{staticClass:"primary-account-panel"},[a("h5",[t._v("Primary Account")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"panel panel-flat"},[a("div",{staticClass:"panel-body py-0"},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-left valign-middle"},[a("img",{attrs:{src:t.getBankLogo(t.userBankAccounts[0].bank),width:"70px"}})]),a("div",{staticClass:"media-body"},[a("ul",{staticClass:"account-details mt-10"},[a("li",{staticClass:"masked-number"},[t._v("\n                                                                    "+t._s(t._f("hideSomeAccountDigits")(t.userBankAccounts[0].accountNumber))+"\n                                                                    "),a("a",{staticStyle:{float:"right"},on:{click:function(e){return t.editBankAccount(t.userBankAccounts[0].uuid)}}},[a("img",{staticStyle:{"padding-bottom":"5px"},attrs:{src:n("a03e"),width:"10px"}}),t._v("\n                                                                        Edit\n                                                                    ")])]),a("li",{},[a("strong",[t._v(t._s(t.userBankAccounts[0].accountName))])]),a("li",{staticClass:"text-muted"},[t._v("\n                                                                    "+t._s(t.userBankAccounts[0].bank.name)+"\n                                                                ")]),t.bvnConfirmed?t._e():a("li",{staticClass:"mt-10"},[a("button",{staticClass:"btn btn-flat border-primary text-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#add-primary-account-modal"},on:{click:function(e){return t.setAccountForUpdate(t.userBankAccounts[0])}}},[t._v("\n                                                                        Update BVN\n                                                                    ")])])])])]),1===t.userBankAccountsNo?a("div",{staticClass:"mt-20 mb-20"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#add-primary-account-modal"},on:{click:t.toggleUseContinueInAddPA}},[t._v("\n                                                            Add new Bank Account\n                                                        ")])]):t._e()])])])])]),2==t.userBankAccountsNo?a("div",{staticClass:"primary-account-panel mt-25"},[a("h5",[t._v("Second Primary Account")]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-10"},[a("div",{staticClass:"panel panel-flat"},[a("div",{staticClass:"panel-body py-0"},[a("div",{staticClass:"media"},[a("div",{staticClass:"media-left valign-middle"},[a("img",{attrs:{src:t.getBankLogo(t.userBankAccounts[1].bank),width:"70px"}})]),a("div",{staticClass:"media-body"},[a("ul",{staticClass:"account-details mt-10"},[a("li",{staticClass:"masked-number"},[t._v("\n                                                                    "+t._s(t._f("hideSomeAccountDigits")(t.userBankAccounts[1].accountNumber))+"\n                                                                    "),a("a",{staticStyle:{float:"right"},on:{click:function(e){return t.editBankAccount(t.userBankAccounts[0].uuid)}}},[a("img",{staticStyle:{"padding-bottom":"5px"},attrs:{src:n("a03e"),width:"10px"}}),t._v("\n                                                                        Edit\n                                                                    ")])]),a("li",{},[a("strong",[t._v(t._s(t.userBankAccounts[1].accountName))])]),a("li",{staticClass:"text-muted"},[t._v("\n                                                                    "+t._s(t.userBankAccounts[1].bank.name)+"\n                                                                ")])])])])])])])])]):t._e()]:[a("h6",[t._v("No bank account available.")])],0===t.userBankAccountsNo?a("div",{staticClass:"mt-25"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#add-primary-account-modal"},on:{click:t.toggleUseContinueInAddPA}},[t._v("\n                                    Add new Bank Account\n                                ")])]):t._e()],2)]:[t._m(0)]],2)])])]),t.userBankAccountsNo<2?a("div",{staticClass:"modal fade",attrs:{id:"add-primary-account-modal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("h2",{staticClass:"text-center text-default fw-700"},[t._v("Add New Bank Account")]),a("div",{staticClass:"mt-25 text-default"},[1===t.userBankAccountsNo&&t.useContinueInAddPA?[a("p",[t._v("\n                                Please note that you can only add a new bank account that has been linked to the BVN\n                                you might have added earlier.\n                            ")]),a("div",{staticClass:"mt-25 text-center"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.toggleUseContinueInAddPA(!1)}}},[t._v("\n                                    Continue\n                                ")])])]:t._e(),0===t.userBankAccountsNo||1===t.userBankAccountsNo&&!t.useContinueInAddPA?a("form",{on:{submit:function(e){return e.preventDefault(),t.createPrimaryAccount(e)}}},[a("div",{staticClass:"form-group mb-25"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"bank"}},[t._v("Select Bank")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.account.bank,expression:"account.bank"}],staticClass:"form-control h-48",attrs:{id:"bank",disabled:t.bvnUpdateMode},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.account,"bank",e.target.multiple?n:n[0])}}},[a("option",{attrs:{value:""}},[t._v("Click to Select a Bank")]),t._l(t.banks,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error["account.bank"].length,expression:"error['account.bank'].length"}],staticClass:"validation-error-label"},[t._v(t._s(t.error["account.bank"][0]))])]),a("div",{staticClass:"form-group has-feedback"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"account-name"}},[t._v("Account Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.number,expression:"account.number"}],staticClass:"form-control h-48",attrs:{type:"text",id:"accountNumber",placeholder:"Account Number",maxlength:"10",disabled:t.bvnUpdateMode},domProps:{value:t.account.number},on:{keydown:function(e){return t.keyIsNumeric(e)},input:function(e){e.target.composing||t.$set(t.account,"number",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"none"!==t.fetchAccountNameState,expression:"fetchAccountNameState !== 'none'"}],staticClass:"form-control-feedback"},[a("i",{class:t.fetchAccountNameIcon})]),a("span",{directives:[{name:"show",rawName:"v-show",value:"fetching"===t.fetchAccountNameState,expression:"fetchAccountNameState === 'fetching'"}],staticClass:"text-size-small"},[t._v("Fetching account details...")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error["account.number"].length,expression:"error['account.number'].length"}],staticClass:"validation-error-label"},[t._v(t._s(t.error["account.number"][0]))])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"account-number"}},[t._v("Account Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.name,expression:"account.name"}],staticClass:"form-control h-48",attrs:{type:"text",id:"account-name",placeholder:"Account Name",disabled:""},domProps:{value:t.account.name},on:{input:function(e){e.target.composing||t.$set(t.account,"name",e.target.value)}}})]),t.bvnConfirmed?t._e():a("div",{staticClass:"form-group"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"bvn"}},[t._v("BVN (Optional)")]),a("div",{staticClass:"input-group"},["checkbox"===(t.showBvnInput?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bvn,expression:"account.bvn"}],ref:"bvnInput",staticClass:"form-control h-48",attrs:{id:"bvn",placeholder:"BVN",maxlength:"11",type:"checkbox"},domProps:{checked:Array.isArray(t.account.bvn)?t._i(t.account.bvn,null)>-1:t.account.bvn},on:{keydown:function(e){return t.keyIsNumeric(e)},change:function(e){var n=t.account.bvn,a=e.target,c=!!a.checked;if(Array.isArray(n)){var o=null,r=t._i(n,o);a.checked?r<0&&t.$set(t.account,"bvn",n.concat([o])):r>-1&&t.$set(t.account,"bvn",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.account,"bvn",c)}}}):"radio"===(t.showBvnInput?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bvn,expression:"account.bvn"}],ref:"bvnInput",staticClass:"form-control h-48",attrs:{id:"bvn",placeholder:"BVN",maxlength:"11",type:"radio"},domProps:{checked:t._q(t.account.bvn,null)},on:{keydown:function(e){return t.keyIsNumeric(e)},change:function(e){return t.$set(t.account,"bvn",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bvn,expression:"account.bvn"}],ref:"bvnInput",staticClass:"form-control h-48",attrs:{id:"bvn",placeholder:"BVN",maxlength:"11",type:t.showBvnInput?"text":"password"},domProps:{value:t.account.bvn},on:{keydown:function(e){return t.keyIsNumeric(e)},input:function(e){e.target.composing||t.$set(t.account,"bvn",e.target.value)}}}),a("div",{staticClass:"input-group-addon",on:{click:function(e){t.showBvnInput=!t.showBvnInput}}},[a("a",{staticClass:"text-default",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-2x",class:t.showBvnInput?"fa-eye-slash":"fa-eye",attrs:{"aria-hidden":"true"}})])])]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error["account.bvn"].length,expression:"error['account.bvn'].length"}],staticClass:"validation-error-label"},[t._v(t._s(t.error["account.bvn"][0]))]),a("p",{staticClass:"bvn-disclaimer text-primary"},[t._v("\n                                    Every Patrician is now assigned an account number that can be used to receive\n                                    funds from traditional banks like your bank account! Your BVN is needed to enjoy\n                                    this cool feature. Be assured that Your BVN information is safe with us.\n                                ")])]),a("div",{staticClass:"text-center mt-25"},[a("button",{staticClass:"pt-10 pb-10 pr-20 pl-20 btn btn-primary",attrs:{type:"submit",disabled:t.disableFormSubmission||t.formLoading}},[t._v("\n                                    Add Account\n                                    "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.formLoading,expression:"formLoading"}],staticClass:"icon-spinner2 spinner position-right ml-20"})])])]):t._e()],2)])])])]):t._e(),a("div",{staticClass:"modal fade",attrs:{id:"update-primary-account-modal"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("h2",{staticClass:"text-center text-default fw-700"},[t._v("Update Bank Account")]),a("p",{staticClass:"text-center text-default",staticStyle:{"font-size":"14px"}},[t._v("\n                        Note: Your Bank Account details can only be changed once every 60 days.\n                    ")]),a("div",{staticClass:"mt-25 text-default"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.updatePrimaryAccount(e)}}},[a("div",{staticClass:"form-group mb-25"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"bank"}},[t._v("Select Bank")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.account.bank,expression:"account.bank"}],staticClass:"form-control h-48",attrs:{id:"bank",disabled:t.bvnUpdateMode},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.account,"bank",e.target.multiple?n:n[0])}}},[a("option",{attrs:{value:""}},[t._v("Click to Select a Bank")]),t._l(t.banks,(function(e){return a("option",{key:e.code,domProps:{value:e.code}},[t._v(t._s(e.name))])}))],2),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error["account.bank"].length,expression:"error['account.bank'].length"}],staticClass:"validation-error-label"},[t._v(t._s(t.error["account.bank"][0]))])]),a("div",{staticClass:"form-group has-feedback"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"account-name"}},[t._v("Account Number")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.number,expression:"account.number"}],staticClass:"form-control h-48",attrs:{type:"text",id:"accountNumber",placeholder:"Account Number",maxlength:"10",disabled:t.bvnUpdateMode},domProps:{value:t.account.number},on:{keydown:function(e){return t.keyIsNumeric(e)},input:function(e){e.target.composing||t.$set(t.account,"number",e.target.value)}}}),a("div",{directives:[{name:"show",rawName:"v-show",value:"none"!==t.fetchAccountNameState,expression:"fetchAccountNameState !== 'none'"}],staticClass:"form-control-feedback"},[a("i",{class:t.fetchAccountNameIcon})]),a("span",{directives:[{name:"show",rawName:"v-show",value:"fetching"===t.fetchAccountNameState,expression:"fetchAccountNameState === 'fetching'"}],staticClass:"text-size-small"},[t._v("Fetching account details...")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error["account.number"].length,expression:"error['account.number'].length"}],staticClass:"validation-error-label"},[t._v(t._s(t.error["account.number"][0]))])]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"account-number"}},[t._v("Account Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.name,expression:"account.name"}],staticClass:"form-control h-48",attrs:{type:"text",id:"account-name",placeholder:"Account Name",disabled:""},domProps:{value:t.account.name},on:{input:function(e){e.target.composing||t.$set(t.account,"name",e.target.value)}}})]),t.bvnConfirmed?t._e():a("div",{staticClass:"form-group"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"bvn"}},[t._v("BVN (Optional)")]),a("div",{staticClass:"input-group"},["checkbox"===(t.showBvnInput?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bvn,expression:"account.bvn"}],ref:"bvnInput",staticClass:"form-control h-48",attrs:{id:"bvn",placeholder:"BVN",maxlength:"11",type:"checkbox"},domProps:{checked:Array.isArray(t.account.bvn)?t._i(t.account.bvn,null)>-1:t.account.bvn},on:{keydown:function(e){return t.keyIsNumeric(e)},change:function(e){var n=t.account.bvn,a=e.target,c=!!a.checked;if(Array.isArray(n)){var o=null,r=t._i(n,o);a.checked?r<0&&t.$set(t.account,"bvn",n.concat([o])):r>-1&&t.$set(t.account,"bvn",n.slice(0,r).concat(n.slice(r+1)))}else t.$set(t.account,"bvn",c)}}}):"radio"===(t.showBvnInput?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bvn,expression:"account.bvn"}],ref:"bvnInput",staticClass:"form-control h-48",attrs:{id:"bvn",placeholder:"BVN",maxlength:"11",type:"radio"},domProps:{checked:t._q(t.account.bvn,null)},on:{keydown:function(e){return t.keyIsNumeric(e)},change:function(e){return t.$set(t.account,"bvn",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:t.account.bvn,expression:"account.bvn"}],ref:"bvnInput",staticClass:"form-control h-48",attrs:{id:"bvn",placeholder:"BVN",maxlength:"11",type:t.showBvnInput?"text":"password"},domProps:{value:t.account.bvn},on:{keydown:function(e){return t.keyIsNumeric(e)},input:function(e){e.target.composing||t.$set(t.account,"bvn",e.target.value)}}}),a("div",{staticClass:"input-group-addon",on:{click:function(e){t.showBvnInput=!t.showBvnInput}}},[a("a",{staticClass:"text-default",attrs:{href:"#"}},[a("i",{staticClass:"fa fa-2x",class:t.showBvnInput?"fa-eye-slash":"fa-eye",attrs:{"aria-hidden":"true"}})])])]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.error["account.bvn"].length,expression:"error['account.bvn'].length"}],staticClass:"validation-error-label"},[t._v(t._s(t.error["account.bvn"][0]))]),a("p",{staticClass:"bvn-disclaimer text-primary"},[t._v("\n                                    Every Patricia User now gets a Nigerian Bank account assigned to them, that can\n                                    be used just like a traditional Bank account to send and Deposit funds into\n                                    Patricia, We need your BVN to Make this possible. Your BVN is 100% secured\n                                    Chief.\n                                ")])]),a("div",{staticClass:"text-center mt-25"},[a("button",{staticClass:"pt-10 pb-10 pr-20 pl-20 btn btn-primary",attrs:{type:"submit",disabled:t.disableFormSubmission||t.updateFormLoading}},[t._v("\n                                    Add Account\n                                    "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.updateFormLoading,expression:"updateFormLoading"}],staticClass:"icon-spinner2 spinner position-right ml-20"})])])])])])])])]),t.userBankAccountsNo>0?a("div",{staticClass:"modal fade",attrs:{id:"request-bank-account-change"}},[a("div",{staticClass:"modal-dialog"},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-body"},[a("h2",{staticClass:"text-center text-default fw-700"},[t._v("Request to change Bank Account")]),a("div",{staticClass:"mt-25 text-default"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.requestBankAccountChange(e)}}},[a("div",{staticClass:"form-group mb-25"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"account"}},[t._v("Select Bank Account To Change")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.bankAccountChangeRequest.accountNumber,expression:"bankAccountChangeRequest.accountNumber"}],staticClass:"form-control h-48",attrs:{id:"account"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.bankAccountChangeRequest,"accountNumber",e.target.multiple?n:n[0])}}},[a("option",{attrs:{value:""}},[t._v("Click to Select an Account")]),t._l(t.userBankAccounts,(function(e,n){return a("option",{key:n,domProps:{value:e.accountNumber}},[t._v(t._s(e.bank.name+" ("+e.accountNumber+")"))])}))],2)]),a("div",{staticClass:"form-group mb-25"},[a("label",{staticClass:"fw-400 fs-mini",attrs:{for:"reason"}},[t._v("Reason to Change Account")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.bankAccountChangeRequest.reason,expression:"bankAccountChangeRequest.reason"}],staticClass:"form-control",attrs:{id:"reason",rows:"5"},domProps:{value:t.bankAccountChangeRequest.reason},on:{input:function(e){e.target.composing||t.$set(t.bankAccountChangeRequest,"reason",e.target.value)}}})]),a("div",{staticClass:"text-center mt-25"},[a("button",{staticClass:"pt-10 pb-10 pr-20 pl-20 btn btn-primary",attrs:{type:"submit",disabled:!t.shouldSubmitRequestToChangeAccount||t.formLoading}},[t._v("\n                                    Request Change\n                                    "),a("i",{directives:[{name:"show",rawName:"v-show",value:t.formLoading,expression:"formLoading"}],staticClass:"icon-spinner2 spinner position-right ml-20"})])])])])])])])]):t._e()])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col-sm-12"},[n("div",{staticClass:"alert alert-danger mt-20 alert-bordered"},[t._v("\n                                Sorry, you cannot change your primary account details for now\n                            ")])])}],o=(n("8e6e"),n("456d"),n("8615"),n("75fc")),r=(n("6762"),n("2fdb"),n("ac6a"),n("7f7f"),n("bd86")),s=(n("a481"),n("dbec")),i=n("e49c"),u=n("2f62");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){Object(r["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=function(){return{bank:"",number:"",name:"",bvn:""}},v=function(){return{bank:"",number:"",name:"",bvn:""}},p={mixins:[i["a"]],filters:{mask:function(t){return t.replace(/^(\d{3})(\d{3}).*/,"$1****$2")}},data:function(){return{erro:!1,errorMessage:"",banks:[],account:m(),updateAccount:v(),userBankAccounts:[],stateIcons:{none:"",fetching:"icon-spinner2 spinner",correct:"icon-checkmark3 text-success",wrong:"icon-cross2 text-danger"},fetchAccountNameState:"none",formLoading:!1,updateFormLoading:!1,error:{"account.bank":[],"account.number":[],"account.bvn":[]},bvnUpdateMode:!1,useContinueInAddPA:!1,showBvnInput:!1,bankAccountChangeRequest:{accountNumber:"",reason:""},bankUuid:""}},computed:d({},Object(u["c"])(["getUser"]),{userIsNigerian:function(){var t=this.$store.getters.getUser.country;return"nigeria"===t.name.toLowerCase()},userBankAccountsNo:function(){return this.userBankAccounts.length},userHasAccount:function(){return this.userBankAccountsNo>0},bvnConfirmed:function(){return this.userBankAccountsNo&&this.userBankAccounts.filter((function(t){return!!t.bvn})).length>0},fetchAccountNameIcon:function(){return this.stateIcons[this.fetchAccountNameState]},disableFormSubmission:function(){return""===this.account.name},shouldSubmitRequestToChangeAccount:function(){return this.bankAccountChangeRequest.accountNumber.length&&this.bankAccountChangeRequest.reason.length>=10}}),watch:{"account.bank":function(t){this.fetchAccountNameState="none",this.userBankAccountsNo<=2&&10===this.account.number.length&&this.fetchAccountName()},"account.number":function(t){this.fetchAccountNameState="none",this.userBankAccountsNo<=2&&10===t.length&&""!==this.account.bank&&this.fetchAccountName()}},created:function(){this.populateUserAccountDetails(),this.populateBanksList()},updated:function(){this.$route.query.openmodal&&$("#add-primary-account-modal").modal("show")},methods:{populateUserAccountDetails:function(){var t=this;Object(s["d"])().then((function(e){var n=e.data.data;Array.isArray(n)&&n.length&&(n.forEach((function(e){var n=e.bank;t.userBankAccounts.push({accountName:e.account_name,accountNumber:e.account_number,bvn:e.bvn,bank:{name:n.name,code:n.code},uuid:e.uuid})})),t.bankAccountChangeRequest.accountNumber=t.userBankAccounts[0].accountNumber)})).catch((function(e){if(404!==e.response.status){var n=e.response.data;t.$swal({type:"error",title:"Error occured",text:n.message})}}))},populateBanksList:function(){var t=this;Object(s["c"])().then((function(e){var n=e.data.data.banks;t.banks=n,t.banks=n.map((function(t){return{name:t.name,code:t.code}}))})).catch((function(e){var n=e.response.data;t.$swal({type:"error",title:"Unable to get Bank list",text:n.message})}))},toggleUseContinueInAddPA:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object.assign(this.$data.account,m()),this.bvnUpdateMode=!1,1===this.userBankAccountsNo&&(t=!!this.bvnConfirmed&&t,this.useContinueInAddPA=t)},updateToggleUseContinueInAddPA:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Object.assign(this.$data.account,v()),this.bvnUpdateMode=!1,1===this.userBankAccountsNo&&(t=!!this.bvnConfirmed&&t,this.useContinueInAddPA=t)},fetchAccountName:function(){var t=this;this.bvnUpdateMode||(this.fetchAccountNameState="fetching",this.account.name="",this.error["account.number"]=[],Object(s["b"])(this.account.number,this.account.bank).then((function(e){var n=e.data.data.data;t.account.name=n.account_name,t.fetchAccountNameState="correct"})).catch((function(e){if(t.fetchAccountNameState="wrong",400===e.response.status)t.error["account.number"].push("The account number for the selected bank is not valid");else{var n=e.response.data;t.$swal({type:"error",title:"Error occured",text:n.message})}})))},validate:function(){var t;return this.error={"account.bank":[],"account.number":[],"account.bvn":[]},""===this.account.bank&&this.error["account.bank"].push("Please select a bank"),this.banks.map((function(t){return t.code})).includes(this.account.bank)||this.error["account.bank"].push("Your selected bank is not valid"),""===this.account.number&&this.error["account.number"].push("Your account number is required"),/^\d*$/.test(this.account.number)||this.error["account.number"].push("Your account number is not valid"),10!==this.account.number.length&&this.error["account.number"].push("Your account number must be 10 digits"),this.account.bvn&&11!==this.account.bvn.length&&this.error["account.bvn"].push("Your BVN must be 11 digits"),0===(t=[]).concat.apply(t,Object(o["a"])(Object.values(this.error))).length},createPrimaryAccount:function(){var t=this;if(this.userBankAccountsNo<2&&this.validate()){this.formLoading=!0;var e={accountName:this.account.name,accountNumber:this.account.number,accountBank:this.account.bank,accountBVN:this.account.bvn};Object(s["a"])(e).then((function(e){t.formLoading=!1;var n=e.data.data.bank;t.bvnUpdateMode?t.userBankAccounts[0].bvn=n.bvn:t.userBankAccounts.push({accountName:n.account_name,accountNumber:n.account_number,bvn:n.bvn,bank:{name:n.bank_name,code:n.bank_id}}),Object.assign(t.$data.account,m()),t.bvnUpdateMode=!1,t.$swal({type:"success",title:"Chief",text:"Your primary bank account has been saved successfully."}).then((function(){$("#add-primary-account-modal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}))})).catch((function(e){if(t.formLoading=!1,422===e.response.status){var n;t.$swal({type:"error",title:"Chief",text:e.response.data.data.error.bvn[0]});var a=e.response.data.data,c=(n=[]).concat.apply(n,Object(o["a"])(Object.values(a.errors)));t.$swal({type:"error",title:"Chief",text:c[0]})}else{var r=e.response.data;t.$swal({type:"error",title:"Chief",text:r.message})}}))}},setAccountForUpdate:function(t){this.account={bank:t.bank.code,number:t.accountNumber,name:t.accountName},this.bvnUpdateMode=!0},requestBankAccountChange:function(){var t=this;this.shouldSubmitRequestToChangeAccount&&(this.formLoading=!0,Object(s["e"])(this.bankAccountChangeRequest).then((function(e){t.formLoading=!1,t.$swal({type:"success",title:"Chief",text:e.data.message}).then((function(){t.bankAccountChangeRequest.reason="",$("#request-bank-account-change").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}))})).catch((function(e){if(t.formLoading=!1,422===e.response.status){var n,a=e.response.data.data,c=(n=[]).concat.apply(n,Object(o["a"])(Object.values(a.errors)));t.$swal({type:"error",title:"Chief",text:c[0]})}else{var r=e.response.data;t.$swal({type:"error",tditle:"Chief",text:r.message})}})))},getBankLogo:function(t){return"https://storage.googleapis.com/patricia-website-assets/bank-logos/"+t.code+".svg"},editBankAccount:function(t){$("#update-primary-account-modal").modal("show"),this.bankUuid=t},updatePrimaryAccount:function(){var t=this;this.updateFormLoading=!0,this.$root.showLoader();var e={account_name:this.account.name,account_number:this.account.number,bank_code:this.account.bank,bvn:this.account.bvn,account_uuid:this.bankUuid};Object(s["f"])(e).then((function(e){t.updateFormLoading=!1,t.$root.hideLoader(),$("#update-primary-account-modal").modal("hide"),t.$swal({imageUrl:"https://storage.googleapis.com/patricia-website-assets/cool1.svg",title:"Chief",text:e.data.message}).then((function(){t.$router.go()}))})).catch((function(e){t.updateFormLoading=!1,t.$root.hideLoader(),$("#update-primary-account-modal").modal("hide"),500==e.response.status?t.$swal({imageUrl:"https://storage.googleapis.com/patricia-website-assets/sad1.svg",title:"Chief",text:"An error occurred, Try again later."}):t.$swal({imageUrl:"https://storage.googleapis.com/patricia-website-assets/sad1.svg",title:"Chief",text:e.response.data.message})}))}}},b=p,f=(n("46c5"),n("2877")),h=Object(f["a"])(b,a,c,!1,null,"4cd49f96",null);e["default"]=h.exports},"504c":function(t,e,n){var a=n("9e1e"),c=n("0d58"),o=n("6821"),r=n("52a7").f;t.exports=function(t){return function(e){var n,s=o(e),i=c(s),u=i.length,l=0,d=[];while(u>l)n=i[l++],a&&!r.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}}},5147:function(t,e,n){var a=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[a]=!1,!"/./"[t](e)}catch(c){}}return!0}},"549b":function(t,e,n){"use strict";var a=n("d864"),c=n("63b6"),o=n("241e"),r=n("b0dc"),s=n("3702"),i=n("b447"),u=n("20fd"),l=n("7cd6");c(c.S+c.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,c,d,m=o(t),v="function"==typeof this?this:Array,p=arguments.length,b=p>1?arguments[1]:void 0,f=void 0!==b,h=0,g=l(m);if(f&&(b=a(b,p>2?arguments[2]:void 0,2)),void 0==g||v==Array&&s(g))for(e=i(m.length),n=new v(e);e>h;h++)u(n,h,f?b(m[h],h):m[h]);else for(d=g.call(m),n=new v;!(c=d.next()).done;h++)u(n,h,f?r(d,b,[c.value,h],!0):c.value);return n.length=h,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"5eda":function(t,e,n){var a=n("5ca1"),c=n("8378"),o=n("79e5");t.exports=function(t,e){var n=(c.Object||{})[t]||Object[t],r={};r[t]=e(n),a(a.S+a.F*o((function(){n(1)})),"Object",r)}},6762:function(t,e,n){"use strict";var a=n("5ca1"),c=n("c366")(!0);a(a.P,"Array",{includes:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"75fc":function(t,e,n){"use strict";var a=n("a745"),c=n.n(a);function o(t){if(c()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var r=n("774e"),s=n.n(r),i=n("c8bb"),u=n.n(i);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return s()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(t){return o(t)||l(t)||d()}n.d(e,"a",(function(){return m}))},"774e":function(t,e,n){t.exports=n("d2d5")},"85f2":function(t,e,n){t.exports=n("454f")},8615:function(t,e,n){var a=n("5ca1"),c=n("504c")(!1);a(a.S,"Object",{values:function(t){return c(t)}})},"8e6e":function(t,e,n){var a=n("5ca1"),c=n("990b"),o=n("6821"),r=n("11e9"),s=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=o(t),i=r.f,u=c(a),l={},d=0;while(u.length>d)n=i(a,e=u[d++]),void 0!==n&&s(l,e,n);return l}})},"95d5":function(t,e,n){var a=n("40c3"),c=n("5168")("iterator"),o=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[c]||"@@iterator"in e||o.hasOwnProperty(a(e))}},"990b":function(t,e,n){var a=n("9093"),c=n("2621"),o=n("cb7c"),r=n("7726").Reflect;t.exports=r&&r.ownKeys||function(t){var e=a.f(o(t)),n=c.f;return n?e.concat(n(t)):e}},a03e:function(t,e,n){t.exports=n.p+"img/edit-icon.8cd31d5a.svg"},a745:function(t,e,n){t.exports=n("f410")},bd86:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("85f2"),c=n.n(a);function o(t,e,n){return e in t?c()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},c8bb:function(t,e,n){t.exports=n("54a1")},d2c8:function(t,e,n){var a=n("aae3"),c=n("be13");t.exports=function(t,e,n){if(a(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(c(t))}},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},dbec:function(t,e,n){"use strict";n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return d})),n.d(e,"e",(function(){return v})),n.d(e,"f",(function(){return b}));n("96cf");var a=n("3b8d"),c=n("adb5");function o(){return r.apply(this,arguments)}function r(){return r=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].post("payment/bank/account/primary");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)}function s(){return i.apply(this,arguments)}function i(){return i=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].get("banks");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}function u(t,e){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function t(e,n){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].post("payment/bank/account/details",{account_number:e,bank_code:n});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(t){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,o,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.accountName,a=e.accountNumber,o=e.accountBank,r=e.accountBVN,t.next=3,c["a"].post("payment/bank/create",{account_name:n,account_number:a,bank_code:o,bvn:r});case 3:return s=t.sent,t.abrupt("return",s);case 5:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function v(t){return p.apply(this,arguments)}function p(){return p=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.accountNumber,a=e.reason,t.next=3,c["a"].post("payment/bank/account/change",{account_number:n,reason:a});case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function b(t){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c["a"].post("payment/bank/update",e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}},e49c:function(t,e,n){"use strict";e["a"]={methods:{keyIsNumeric:function(t){var e=t.which||t.keyCode;return 46!==e&&e>31&&(e<48||e>57)&&t.preventDefault(),!0}}}},f1ae:function(t,e,n){"use strict";var a=n("86cc"),c=n("4630");t.exports=function(t,e,n){e in t?a.f(t,e,c(0,n)):t[e]=n}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-4630a80c.34ef3d94.js.map