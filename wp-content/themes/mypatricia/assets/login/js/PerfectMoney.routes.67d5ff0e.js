(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["PerfectMoney.routes"],{"08fa":function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n("3b2b"),n("6b54"),n("4917");function a(t,e){var n=t.toString().match(new RegExp("^-?\\d+(?:\\.\\d{0,".concat(e,"})?")))[0];return parseFloat(n)}},"1af6":function(t,e,n){var a=n("63b6");a(a.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var a=n("d9f6"),r=n("aebd");t.exports=function(t,e,n){e in t?a.f(t,e,r(0,n)):t[e]=n}},"24a9":function(t,e,n){"use strict";var a=n("2e97"),r=n.n(a);r.a},"2e97":function(t,e,n){},"454f":function(t,e,n){n("46a7");var a=n("584a").Object;t.exports=function(t,e,n){return a.defineProperty(t,e,n)}},"456d":function(t,e,n){var a=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(t){return r(a(t))}}))},4614:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row no-margin p-5"},[n("back-button",{attrs:{text:"Digital assets"}}),t.showTransactionConfirm||t.transactionDone?t._e():n("div",{ref:"pm-trade",staticClass:"col-md-6 mt-20",attrs:{id:"transaction-inputs"}},[n("div",{staticClass:"tabbable buy-sell pb-20"},[n("ul",{staticClass:"nav nav-tabs nav-tabs-highlight nav-justified"},[n("li",{class:{active:"sell"===t.activeTab}},[n("a",{staticClass:"text-primary text-bold",attrs:{href:"#sell","data-toggle":"tab"},on:{click:function(e){return t.toggleTabTo("sell")}}},[t._v("Sell")])]),n("li",{class:{active:"buy"===t.activeTab}},[n("a",{staticClass:"text-primary text-bold",attrs:{href:"#buy","data-toggle":"tab"},on:{click:function(e){return t.toggleTabTo("buy")}}},[t._v("Buy")])])]),n("div",{staticClass:"tab-content mv-up"},[n("buy-tab",{attrs:{rate:t.rate.buyUsdInNaira,transaction:t.activeTab,accountId:t.memberId.user,amount:t.amount},on:{"update:amount":function(e){t.amount=e},"update-memberId":function(e){t.memberId.user=e},"proceed-to-buy":t.continueTransaction}}),n("sell-tab",{attrs:{rate:t.rate.sellUsdInNaira,transaction:t.activeTab,accountId:t.memberId.user,companyId:t.memberId.company,amount:t.amount},on:{"update:amount":function(e){t.amount=e},"update-memberId":function(e){t.memberId.user=e},"change-type":function(e){t.sellMeta.type=e},"proceed-to-sell":t.continueTransaction,"update-sell-deposit-method":function(e){t.sellMeta.depositMethod=e}}})],1)])]),n("div",{ref:"transaction-summary",staticClass:"col-md-6 animated fadeInRight pb-20"},[n("transaction-summary",{attrs:{transaction:t.activeTab,rate:t.rate,amount:t.amount,"sell-meta":t.sellMeta}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTransactionConfirm,expression:"showTransactionConfirm"}],staticClass:"col-md-6 animated slideInRight"},[n("confirm-transaction",{attrs:{transaction:t.activeTab,amount:t.amount,"sell-meta":t.sellMeta,"sell-data":t.sellData},on:{"reset-data":t.resetData,"show-success":t.sellSuccess,"show-await":t.showAwait}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.transactionStatus.success,expression:"transactionStatus.success"}],staticClass:"col-md-6"},[n("transaction-success",{attrs:{transaction:t.activeTab,amount:t.amount,"sell-meta":t.sellMeta}})],1),n("insufficient-fund",{ref:"modal"}),n("pin-input",{on:{"pin-verified":t.buyPerfectMoney}}),n("multiple-upload",{ref:"upload-pm-receipt",attrs:{id:"upload_pm_receipts",headers:{mainHeading:"Upload Receipt(s)",subHeading:"Please upload your perfect money transfer receipt/images to prove you have successfully sold to us."},options:{dragText:"Drag your receipt(s) here",browseText:"Click to add your receipts"}},on:{"upload-files":t.sellPerfectMoney}})],1)},r=[],s=(n("8e6e"),n("456d"),n("c5f6"),n("ac6a"),n("8615"),n("75fc")),i=n("bd86"),o=n("2ef0"),c=n.n(o),u=n("2f62"),f=n("494b"),l=n("08fa");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){Object(i["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=function(){return n.e("chunk-6a68d65c").then(n.bind(null,"951d"))},m=function(){return n.e("chunk-d20d8548").then(n.bind(null,"a09a"))},b=function(){return Promise.all([n.e("chunk-04124880"),n.e("chunk-c2e2e254")]).then(n.bind(null,"af7d"))},v=function(){return Promise.all([n.e("chunk-2d0ac39a"),n.e("chunk-542e087e")]).then(n.bind(null,"73f8"))},y=function(){return n.e("chunk-d2a0828c").then(n.bind(null,"4ee2"))},w=function(){return n.e("chunk-1acf966e").then(n.bind(null,"609b"))},g=function(){return n.e("chunk-624cfce8").then(n.bind(null,"a6cd"))},O=function(){return n.e("chunk-2d0d6943").then(n.bind(null,"72c5"))},T=function(){return n.e("chunk-65734950").then(n.bind(null,"b436"))},x=function(){return n.e("chunk-497f7faa").then(n.bind(null,"71d8"))},I={name:"PMIndex",components:{BuyTab:h,SellTab:m,TransactionSummary:y,ConfirmTransaction:g,PinInput:v,TransactionSuccess:O,InsufficientFund:T,MultipleUpload:b,AwaitingPayment:w,"back-button":x},data:function(){return{sellData:{},activeTab:"buy",memberId:{user:"",company:""},transactionReference:"",rate:{buyUsdInNaira:0,sellUsdInNaira:0},transactionAmount:{buy:{inNaira:0,inUsd:0},sell:{inNaira:0,inUsd:0}},showTransactionConfirm:!1,showAwaitingPayment:!1,transactionStatus:{success:!1,insufficientFund:!1},sellMeta:{type:"automatic",depositMethod:{id:"naira-wallet",name:"Naira Wallet",icon:n("7fd0")}}}},computed:p({},Object(u["c"])(["getUser"]),{transactionDone:function(){return this.transactionStatus.success||this.transactionStatus.insufficientFund},amount:{get:function(){return this.transactionAmount[this.activeTab]},set:function(t){this.transactionAmount[this.activeTab]=t}}}),created:function(){var t=this;Object(f["c"])().then((function(e){var n=e.data.data;t.transactionReference=n.tranx_ref,t.memberId={user:n.account||"",company:n.site_account},t.rate={buyUsdInNaira:n.usd_nra_buy,sellUsdInNaira:n.usd_nra_sell}})).catch((function(e){401!==e.response.status&&t.$swal({type:"error",title:"Oops!",text:"The trade of Perfect Money is unavailable for now. Please contact our Support Team"}).then((function(){t.$router.push({name:"Dashboard"})}))}))},methods:{toggleTabTo:function(t){this.activeTab=this.activeTab!==t?t:this.activeTab},continueTransaction:function(){if("buy"===this.activeTab||"sell"===this.activeTab&&"manual"===this.sellMeta.type){var t=this.$refs["pm-trade"];t.classList.add("animated","slideOutLeft"),this.showTransactionConfirm=!0;var e=this.$refs["transaction-summary"];e.classList.remove("fadeInRight"),e.classList.add("slideInRight")}else{this.sellPM();var n=this.$refs["pm-trade"];n.classList.add("animated","slideOutLeft"),this.showTransactionConfirm=!0;var a=this.$refs["transaction-summary"];a.classList.remove("fadeInRight"),a.classList.add("slideInRight")}},sellPM:function(){var t=this;Object(f["c"])().then((function(e){t.sellData=e.data.data})).catch((function(e){var n;if(409!==e.response.status){var a=e.response.data,r=422===e.response.status?(n=[]).concat.apply(n,Object(s["a"])(Object.values(a.errors)))[0]:a.data.message;t.$swal({type:"error",title:"Oops!",text:r})}}))},buyPerfectMoney:function(){var t=this;""!==this.memberId.user&&0!==Number(this.amount.inUsd)&&(this.$root.showLoader(),Object(f["a"])(Object(l["a"])(this.amount.inUsd,1)).then((function(e){t.$root.hideLoader(),t.showTransactionConfirm=!1,t.transactionStatus.success=!0;var n=t.getUser.wallet.actual_amount-t.amount.inNaira;t.updateWalletAmountInStore(n)})).catch((function(e){if(t.$root.hideLoader(),409===e.response.status)return t.transactionStatus.insufficientFund=!0,void t.$refs["modal"].showModal();400===e.response.status?t.$swal({type:"error",title:"Chief",text:e.response.data.data.message}):(e.response.status,t.$swal({type:"error",title:"Oops!",text:e.response.data.message?e.response.data.message:e.response.data.data.message}))})))},updateWalletAmountInStore:function(t){var e=this.getUser;e.wallet.actual_amount=t,this.$store.dispatch("SET_USER",e),this.$cookies.set("user",e)},sellPerfectMoney:function(t){var e=this;if("sell"===this.activeTab&&"manual"===this.sellMeta.type){var n={amount:this.amount.inUsd,receipts:t.fileList,withdrawalMethod:this.sellMeta.depositMethod.id};this.$root.showLoader(),this.$refs["upload-pm-receipt"].closeModal(),Object(f["f"])(n).then((function(t){e.$root.hideLoader(),e.showTransactionConfirm=!1,e.transactionStatus.success=!0})).catch((function(t){e.$root.hideLoader();var n,a="",r=t.response.data;403===t.response.status||422===t.response.status?a=(n=[]).concat.apply(n,Object(s["a"])(r.data.errors))[0]:a="An error occurred while processing your request. Please contact our Support Team.";e.$swal({type:"error",title:"Oops!",text:a})}))}},resetData:function(){var t=["transactionAmount","showTransactionConfirm","transactionStatus","sellMeta"];Object.assign(this.$data,c.a.pick(this.$options.data(),t))},sellSuccess:function(){this.showTransactionConfirm=!1,this.showAwaitingPayment=!1,this.transactionStatus.success=!0},showAwait:function(){this.showTransactionConfirm=!1,this.showAwaitingPayment=!0}}},S=I,j=(n("24a9"),n("2877")),A=Object(j["a"])(S,a,r,!1,null,"9a521afc",null);e["default"]=A.exports},"46a7":function(t,e,n){var a=n("63b6");a(a.S+a.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"494b":function(t,e,n){"use strict";n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return p})),n.d(e,"f",(function(){return m}));n("96cf");var a=n("3b8d"),r=n("adb5");function s(){return i.apply(this,arguments)}function i(){return i=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].get("/landing/pm/rate");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}function o(){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].get("payment/perfect/initiate");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function u(){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark((function t(){var e,n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"",t.next=3,r["a"].post("payment/perfect/update",{address:e});case 3:return n=t.sent,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return d=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post("payment/perfect/buy",{amount:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function p(t){return h.apply(this,arguments)}function h(){return h=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post("payment/perfect/paid",{payment_id:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function m(t){return b.apply(this,arguments)}function b(){return b=Object(a["a"])(regeneratorRuntime.mark((function t(e){var n,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.amount,a=e.receipts,s=e.withdrawalMethod,t.next=3,r["a"].post("/payment/perfect/upload-receipt",{amount:n,receipts:a,withdrawal_method:s});case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}},"504c":function(t,e,n){var a=n("9e1e"),r=n("0d58"),s=n("6821"),i=n("52a7").f;t.exports=function(t){return function(e){var n,o=s(e),c=r(o),u=c.length,f=0,l=[];while(u>f)n=c[f++],a&&!i.call(o,n)||l.push(t?[n,o[n]]:o[n]);return l}}},"549b":function(t,e,n){"use strict";var a=n("d864"),r=n("63b6"),s=n("241e"),i=n("b0dc"),o=n("3702"),c=n("b447"),u=n("20fd"),f=n("7cd6");r(r.S+r.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,r,l,d=s(t),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,b=void 0!==m,v=0,y=f(d);if(b&&(m=a(m,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&o(y))for(e=c(d.length),n=new p(e);e>v;v++)u(n,v,b?m(d[v],v):d[v]);else for(l=y.call(d),n=new p;!(r=l.next()).done;v++)u(n,v,b?i(l,m,[r.value,v],!0):r.value);return n.length=v,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"5eda":function(t,e,n){var a=n("5ca1"),r=n("8378"),s=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],i={};i[t]=e(n),a(a.S+a.F*s((function(){n(1)})),"Object",i)}},"75fc":function(t,e,n){"use strict";var a=n("a745"),r=n.n(a);function s(t){if(r()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var i=n("774e"),o=n.n(i),c=n("c8bb"),u=n.n(c);function f(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(t){return s(t)||f(t)||l()}n.d(e,"a",(function(){return d}))},"774e":function(t,e,n){t.exports=n("d2d5")},"7fd0":function(t,e,n){t.exports=n.p+"img/naira.dd8aec3e.svg"},"85f2":function(t,e,n){t.exports=n("454f")},8615:function(t,e,n){var a=n("5ca1"),r=n("504c")(!1);a(a.S,"Object",{values:function(t){return r(t)}})},"8e6e":function(t,e,n){var a=n("5ca1"),r=n("990b"),s=n("6821"),i=n("11e9"),o=n("f1ae");a(a.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,a=s(t),c=i.f,u=r(a),f={},l=0;while(u.length>l)n=c(a,e=u[l++]),void 0!==n&&o(f,e,n);return f}})},"95d5":function(t,e,n){var a=n("40c3"),r=n("5168")("iterator"),s=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||s.hasOwnProperty(a(e))}},"990b":function(t,e,n){var a=n("9093"),r=n("2621"),s=n("cb7c"),i=n("7726").Reflect;t.exports=i&&i.ownKeys||function(t){var e=a.f(s(t)),n=r.f;return n?e.concat(n(t)):e}},a745:function(t,e,n){t.exports=n("f410")},aa77:function(t,e,n){var a=n("5ca1"),r=n("be13"),s=n("79e5"),i=n("fdef"),o="["+i+"]",c="​",u=RegExp("^"+o+o+"*"),f=RegExp(o+o+"*$"),l=function(t,e,n){var r={},o=s((function(){return!!i[t]()||c[t]()!=c})),u=r[t]=o?e(d):i[t];n&&(r[n]=u),a(a.P+a.F*o,"String",r)},d=l.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(f,"")),t};t.exports=l},bd86:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("85f2"),r=n.n(a);function s(t,e,n){return e in t?r()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},c5f6:function(t,e,n){"use strict";var a=n("7726"),r=n("69a8"),s=n("2d95"),i=n("5dbc"),o=n("6a99"),c=n("79e5"),u=n("9093").f,f=n("11e9").f,l=n("86cc").f,d=n("aa77").trim,p="Number",h=a[p],m=h,b=h.prototype,v=s(n("2aeb")(b))==p,y="trim"in String.prototype,w=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():d(e,3);var n,a,r,s=e.charCodeAt(0);if(43===s||45===s){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+e}for(var i,c=e.slice(2),u=0,f=c.length;u<f;u++)if(i=c.charCodeAt(u),i<48||i>r)return NaN;return parseInt(c,a)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(v?c((function(){b.valueOf.call(n)})):s(n)!=p)?i(new m(w(e)),n,h):w(e)};for(var g,O=n("9e1e")?u(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),T=0;O.length>T;T++)r(m,g=O[T])&&!r(h,g)&&l(h,g,f(m,g));h.prototype=b,b.constructor=h,n("2aba")(a,p,h)}},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},f1ae:function(t,e,n){"use strict";var a=n("86cc"),r=n("4630");t.exports=function(t,e,n){e in t?a.f(t,e,r(0,n)):t[e]=n}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=PerfectMoney.routes.67d5ff0e.js.map