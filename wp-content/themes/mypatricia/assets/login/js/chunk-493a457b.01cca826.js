(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-493a457b"],{"1af6":function(t,a,e){var n=e("63b6");n(n.S,"Array",{isArray:e("9003")})},"20fd":function(t,a,e){"use strict";var n=e("d9f6"),r=e("aebd");t.exports=function(t,a,e){a in t?n.f(t,a,r(0,e)):t[a]=e}},"280a":function(t,a,e){"use strict";e.d(a,"b",(function(){return s})),e.d(a,"a",(function(){return c}));e("96cf");var n=e("3b8d"),r=e("adb5");function s(){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].post("/recover_funds");case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)}function c(t){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(a){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r["a"].get("/recover_funds/details?reference_code=".concat(a));case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}},"36bf":function(t,a,e){},"3c20":function(t,a,e){t.exports=e.p+"img/naira-cur.4d0de5c9.svg"},"504c":function(t,a,e){var n=e("9e1e"),r=e("0d58"),s=e("6821"),i=e("52a7").f;t.exports=function(t){return function(a){var e,c=s(a),o=r(c),u=o.length,l=0,d=[];while(u>l)e=o[l++],n&&!i.call(c,e)||d.push(t?[e,c[e]]:c[e]);return d}}},"50b2":function(t,a,e){t.exports=e.p+"img/bitcoin.daa41fcf.svg"},"53c4":function(t,a,e){t.exports=e.p+"img/gift-image.ef2a93e4.svg"},"549b":function(t,a,e){"use strict";var n=e("d864"),r=e("63b6"),s=e("241e"),i=e("b0dc"),c=e("3702"),o=e("b447"),u=e("20fd"),l=e("7cd6");r(r.S+r.F*!e("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var a,e,r,d,p=s(t),_="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,m=void 0!==g,b=0,y=l(p);if(m&&(g=n(g,f>2?arguments[2]:void 0,2)),void 0==y||_==Array&&c(y))for(a=o(p.length),e=new _(a);a>b;b++)u(e,b,m?g(p[b],b):p[b]);else for(d=y.call(p),e=new _;!(r=d.next()).done;b++)u(e,b,m?i(d,g,[r.value,b],!0):r.value);return e.length=b,e}})},"54a1":function(t,a,e){e("6c1c"),e("1654"),t.exports=e("95d5")},"56a2":function(t,a,e){"use strict";e("8615"),e("ac6a"),e("7f7f"),e("96cf");var n=e("3b8d"),r=e("75fc"),s=(e("6762"),e("a481"),e("28a5"),e("c5f6"),e("adb5")),i=e("c1df"),c=e.n(i);e("d7c2");function o(){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,e,n,r=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=r.length>0&&void 0!==r[0]?r[0]:"all",e=r.length>1&&void 0!==r[1]?r[1]:1,t.next=4,s["a"].get("/transaction/history?page=".concat(e,"&status=").concat(a));case 4:return n=t.sent,t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}var l=e("7dab"),d=e("280a");a["a"]={data:function(){return{type:"all",selected:[],trans:[],pagination:{},present:!0,storage_url:"",emptyImg:"https://storage.googleapis.com/patricia-website-assets/no-transactions7478478387299.svg",selectedTransaction:{},currentPage:1,isFetching:!1,last_page:1,showLoading:!0,trans_status:"all"}},computed:{shouldPaginate:function(){return this.pagination.total>this.trans.length},hasEnoughBalance:function(){var t=this.$store.getters.getUser,a=t.wallet.flagged_transaction_amount,e=Number(t.wallet.actual_amount.split(",").join(""));return e>=a}},mounted:function(){this.getTransactionDetail()},filters:{formatDate:function(t){return c()(t).format("MMMM Do YYYY, h:mm:ss a")},formatShortDate:function(t){return c()(t).format("MMM Do")},getAmount:function(t){var a=0,e=0;switch(t.type){case"crypto_sales":t.address_log?(e=t.address_log.confirmed_amount||t.address_log.amount,a=e+" BTC"):t.crypto_sale_b_t_c&&(e=t.crypto_sale_b_t_c&&t.crypto_sale_b_t_c.confirmed_amount?t.crypto_sale_b_t_c.amount:0,a="$ "+e);break;case"crypto_buy":e=t.crypto_buys_b_t_c&&t.crypto_buys_b_t_c.confirmed_amount?t.crypto_buys_b_t_c.amount:0,a=e+" BTC";break;case"card_buy":a=t.card_buy&&t.card_buy.amount?t.card_buy.amount:t.card_buy[0]?t.card_buy[0].amount:0,a=t.card_buy.rate_at_sale?a*t.card_buy.rate_at_sale:a;break;case"card_sales":a=t.card_sales&&t.card_sales.amount?t.card_sales.amount:0,a=t.card_sales.rate_at_sale?a*t.card_sales.rate_at_sale:a;break;case"fund_deposit":a=t.fund_deposit&&t.fund_deposit.deposit_amount?t.fund_deposit.deposit_amount:0;break;case"bill_payment":a=t.bill_payment&&t.bill_payment.amount?t.bill_payment.amount:0;break;case"funds_recovery":a=t.fund_recovery&&t.fund_recovery.amount?t.fund_recovery.amount:0;break;case"fund_withdrawal":a=t.fund_withdrawal&&t.fund_withdrawal.withdrawal_amount?t.fund_withdrawal.withdrawal_amount:0;break;case"fund_transfer":a=t.fund_transfer&&t.fund_transfer.amount?t.fund_transfer.amount:0;break;case"gift_buy":a=t.giftbuy&&t.giftbuy.amount?t.giftbuy.amount:0;break;case"perfectmoney_buy":e=t.crypto_buys_p_m&&t.crypto_buys_p_m.confirmed_amount?t.crypto_buys_p_m.confirmed_amount:t.crypto_buys_p_m.amount?t.crypto_buys_p_m.amount:0,a=Number(Math.round(e*t.crypto_buys_p_m.rate_at_sale+"e2")+"e-2");break;case"perfectmoney_sales":e=t.crypto_sales_p_m&&t.crypto_sales_p_m.confirmed_amount?t.crypto_sales_p_m.confirmed_amount:t.crypto_sales_p_m.amount?t.crypto_sales_p_m.amount:0,a=Number(Math.round(e*t.crypto_sales_p_m.rate_at_sale+"e2")+"e-2");break;case"fund_reconciliation":a=t.fund_reconciliation&&t.fund_reconciliation.amount?t.fund_reconciliation.amount:0;break;case"btc_transfer":a=t.btc_transfer&&t.btc_transfer.amount?t.btc_transfer.amount:0;break;case"airtime_conversion":a=t.airtime_conversion&&t.airtime_conversion.amount?t.airtime_conversion.amount:0;break;case"paypal":a=t.paypal_request&&"account_request"==t.paypal_request.type?t.paypal_request.amount*t.paypal_request.rate:t.paypal_request.confirmed_amount*t.paypal_request.rate||"---";break;default:a=0}return a},getStatus:function(t){return"crypto_sales"==t.type?t.address_log?t.status+" - "+t.address_log.confirmations+"/5":t.status+" - 0/5":"fund_transfer"!=t.type?"card_buy"==t.type?t.card_buy.status:"btc_transfer"==t.type?t.btc_transfer.status:t.status:t.fund_transfer?t.fund_transfer.status:t.fund_deposit?t.fund_deposit.status:void 0},underScore:function(t){for(var a=t.replace(/_/g," "),e=a.toLowerCase().split(" "),n=0;n<e.length;n++)e[n]=e[n].charAt(0).toUpperCase()+e[n].substring(1);return e.join(" ")},getTrnxType:function(t){var a=["card_sales","crypto_sales"],e=["card_buy","crypto_buy"];return a.includes(t)?"IN":e.includes(t)?"OUT":"IN"}},methods:{displayTransaction:function(t){return"card_sales"!==t.type&&"card_buy"!==t.type?this.getTansactionType(t):"card_sales"===t.type||"card_buy"===t.type?this.getCardtype(t):""},formatAmount:function(t){return Object(l["a"])(t,"",2)},onPageChange:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.pagination.current=t;var n=this.trans_status?this.trans_status:"all";s["a"].get("/transaction/history?page=".concat(t,"&status=").concat(n)).then((function(t){e?(a.trans=[].concat(Object(r["a"])(a.trans),Object(r["a"])(t.data.data.transactions.data)),a.currentPage=t.data.data.transactions.current_page,a.isFetching=!1,a.currentPage>a.last_page&&(a.showLoading=!1)):a.trans=t.data.data.transactions.data}))},showTransactionDetailsModal:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(a){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.selectedTransaction={},e=this.trans[a],"funds_recovery"!==e.type){t.next=13;break}return this.$root.showLoader(),t.next=6,Object(d["a"])(e.reference_code);case 6:n=t.sent,this.$root.hideLoader(),this.selectedTransaction=e,this.selectedTransaction.fundRecoveryDetails=n?n.data.data.data:null,$("#trans_modal").modal("show"),t.next=15;break;case 13:this.selectedTransaction=e,$("#trans_modal").modal("show");case 15:case"end":return t.stop()}}),t,this)})));function a(a){return t.apply(this,arguments)}return a}(),makePagination:function(t){this.pagination={from:t.from,to:t.to,perPage:t.per_page,total:t.total,current:t.current_page,nextPageUrl:t.next_page_url,previousPageUrl:t.prev_page_url}},getCardtype:function(t){return"card_sales"===t.type?t.card_sales.rate_variation.card.name:"card_buy"===t.type?t.card_buy.rate_variation.card.name:"btc_transfer"===t.type?"BTC transfer":void 0},showType:function(t){this.type=t,this.present=!1;var a=this;this.trans.forEach((function(e){e.status==t&&(a.present=!0)})),"all"==t&&this.trans.length>0&&(a.present=!0)},getTransactionDetail:function(t){var a=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object.values(this.pagination).length>0&&null===e||(this.$root.showLoader(),this.trans_status=t,this.currentPage=e,o(this.trans_status,e).then((function(t){a.makePagination(t.data.data.transactions),a.trans=t.data.data.transactions.data,a.last_page=t.data.data.transactions.last_page,a.storage_url=t.data.data.storage_url,a.showLoading=!(a.currentPage>a.last_page),a.$root.hideLoader()})).catch((function(t){a.$root.hideLoader()})))},getImgURL:function(t){var a=t.type,n=this.$store.state.s3_url;if("card_sales"==a&&t.card_sales)return n+t.card_sales.rate_variation.card.picture_url;if("card_buy"==a)return n+t.card_buy.rate_variation.card.picture_url;var r={crypto_sales:e("50b2"),crypto_buy:e("50b2"),perfectmoney_sales:e("6549"),perfectmoney_buy:e("6549"),gift_buy:e("53c4"),fund_deposit:e("3c20"),fund_withdrawal:e("3c20"),fund_transfer:e("3c20"),fund_reconciliation:e("3c20"),bill_payment:e("b353"),airtime_conversion:e("e0ee"),btc_transfer:"https://storage.googleapis.com/patricia-website-assets/btc.5e913a68.svg",funds_recovery:e("e0ee"),paypal:e("e66d")};return r[a]},statusStyle:function(t){var a="";return"successful"==t.status?a="text-success":"pending"==t.status?a="text-primary":"declined"==t.status?a="text-danger":"proccessing"==t.status&&(a="text-warning"),a},getStatusImg:function(t){var a=["card_sales","crypto_sales"],e=["card_buy","crypto_buy"];return a.includes(t)?"Transaction_inward-2.svg":e.includes(t)?"Transaction_outward-1.svg":"Transaction_inward-2.svg"},getTansactionType:function(t){switch(t.type){case"crypto_sales":return"BTC Sell";case"crypto_buy":return"BTC Buy";case"card_buy":return"Card Buy";case"card_sales":return"Card Sell";case"perfectmoney_sales":return"Perfect Money Sell";case"perfectmoney_buy":return"Perfect Money Buy";case"fund_deposit":return"Deposit";case"fund_withdrawal":return"Withdraw";case"gift_buy":return"Gift Buy";case"fund_transfer":return"Transfer";case"fund_reconciliation":return"Reversal";case"bill_payment":return"Bill Payment";case"btc_transfer":return"BTC "+t.btc_transfer.transfer_type;case"funds_recovery":return"Patricia Debits";case"airtime_conversion":return"Airtime To Cash";case"paypal":return"Paypal Transaction";default:return"trans"}}}}},"5c98":function(t,a,e){t.exports=e.p+"img/attention_icon.ef229cd4.svg"},6176:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"centralize"},[e("ul",{staticClass:"pagination"},[e("li",{directives:[{name:"show",rawName:"v-show",value:!t.isInFirstPage,expression:"!isInFirstPage"}],staticClass:"pagination-item"},[e("button",{attrs:{type:"button",disabled:t.isInFirstPage,"aria-label":"Go to first page"},on:{click:t.onClickFirstPage}},[e("i",{staticClass:"fas fa-angle-double-left"})])]),e("li",{directives:[{name:"show",rawName:"v-show",value:!t.isInFirstPage,expression:"!isInFirstPage"}],staticClass:"pagination-item"},[e("button",{attrs:{type:"button",disabled:t.isInFirstPage,"aria-label":"Go to previous page"},on:{click:t.onClickPreviousPage}},[e("i",{staticClass:"fas fa-angle-left"})])]),t._l(t.pages,(function(a,n){return e("li",{key:n,staticClass:"pagination-item"},[e("button",{class:{active:t.isPageActive(a.name)},attrs:{type:"button",disabled:a.isDisabled,"aria-label":"Go to page number "+a.name},on:{click:function(e){return t.onClickPage(a.name)}}},[t._v("\n        "+t._s(a.name)+"\n      ")])])})),e("li",{staticClass:"pagination-item"},[e("button",{attrs:{type:"button",disabled:t.isInLastPage,"aria-label":"Go to next page"},on:{click:t.onClickNextPage}},[e("i",{staticClass:"fas fa-angle-right"})])]),e("li",{staticClass:"pagination-item"},[e("button",{attrs:{type:"button",disabled:t.isInLastPage,"aria-label":"Go to last page"},on:{click:t.onClickLastPage}},[e("i",{staticClass:"fas fa-angle-double-right"})])])],2)])},r=[],s=(e("c5f6"),{name:"Paginator",props:{maxVisibleButtons:{type:Number,required:!1,default:3},totalPages:{type:Number,required:!0,default:3},total:{type:Number,required:!0,default:3},perPage:{type:Number,required:!0,default:3},currentPage:{type:Number,required:!0,default:3}},computed:{startPage:function(){return 1===this.currentPage?1:this.currentPage===this.totalPages?this.totalPages-this.maxVisibleButtons+1:this.currentPage-1},endPage:function(){return Math.min(this.startPage+this.maxVisibleButtons-1,this.totalPages)},pages:function(){for(var t=[],a=this.startPage;a<=this.endPage;a+=1)t.push({name:a,isDisabled:a===this.currentPage});return t},isInFirstPage:function(){return 1===this.currentPage},isInLastPage:function(){return this.currentPage===this.totalPages}},methods:{onClickFirstPage:function(){this.$emit("pagechanged",1)},onClickPreviousPage:function(){this.$emit("pagechanged",this.currentPage-1)},onClickPage:function(t){this.$emit("pagechanged",t)},onClickNextPage:function(){this.$emit("pagechanged",this.currentPage+1)},onClickLastPage:function(){this.$emit("pagechanged",this.totalPages)},isPageActive:function(t){return this.currentPage===t}}}),i=s,c=(e("b27b"),e("2877")),o=Object(c["a"])(i,n,r,!1,null,"2ebd8726",null);a["a"]=o.exports},6197:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"row no-margin"},[n("div",{staticClass:"col-sm-3 col-xs-12 mt-5 p-20 pull-right"},[n("div",{staticClass:"filter bg-white p-20"},[n("h4",[t._v("FILTER")]),n("hr",{staticClass:"no-margin"}),n("h4",{staticClass:"mt-20"},[t._v("Sort By:")]),n("div",{staticClass:"radio radio-right"},[n("label",[n("input",{staticClass:"styled",class:{active:"all"==t.type},attrs:{type:"radio",name:"filter-radio",checked:"checked"},on:{click:function(a){return t.getTransactionDetail("all",t.pagination.current)}}}),t._v("\n          All\n        ")])]),n("div",{staticClass:"radio radio-right"},[n("label",[n("input",{staticClass:"styled",class:{active:"successful"==t.type},attrs:{type:"radio",name:"filter-radio"},on:{click:function(a){return t.getTransactionDetail("successful",t.pagination.current)}}}),t._v("\n          Successful\n        ")])]),n("div",{staticClass:"radio radio-right"},[n("label",[n("input",{staticClass:"styled",class:{active:"pending"==t.type},attrs:{type:"radio",name:"filter-radio"},on:{click:function(a){return t.getTransactionDetail("pending",t.pagination.current)}}}),t._v("\n          Pending\n        ")])]),n("div",{staticClass:"radio radio-right"},[n("label",[n("input",{staticClass:"styled",class:{active:"declined"==t.type},attrs:{type:"radio",name:"filter-radio"},on:{click:function(a){return t.getTransactionDetail("declined",t.pagination.current)}}}),t._v("\n          Declined\n        ")])]),n("div",{staticClass:"radio radio-right"},[n("label",[n("input",{staticClass:"styled",class:{active:"attention"==t.type},attrs:{type:"radio",name:"filter-radio"},on:{click:function(a){return t.getTransactionDetail("attention",t.pagination.current)}}}),t._v("\n          Attention\n        ")])])])]),n("div",{staticClass:"col-sm-9 col-xs-12 mt-20"},[n("div",{staticClass:"dashboard-transactions pl-20 pr-20 pt-5 pb-5"},[n("h2",{staticClass:"text-primary text-bold"},[t._v("Transaction History")]),t.trans.length<1?[n("br"),n("div",{staticClass:"row"},[n("div",{staticClass:"col-xs-12 text-center card"},[n("img",{attrs:{src:t.emptyImg}}),n("h1",{staticClass:"text-bold no-tran-text"},[t._v("No Transactions")]),n("br"),n("p",[t._v("\n              Your transactions will appear here,\n              "),n("router-link",{staticClass:"text-primary text-bold",attrs:{to:"/products"}},[t._v("Start a transaction")])],1)])])]:t._e(),[n("div",{staticClass:"row pt-20"},[n("div",{staticClass:"table-responsive"},[n("table",{staticClass:"table text-black"},[t._m(0),n("tbody",[t._l(t.trans,(function(a,r){return n("tr",{key:r,on:{click:function(a){return t.showTransactionDetailsModal(r)}}},[[n("td",[n("div",{staticClass:"transaction-image"},[n("span",{staticClass:"v-align-helper"}),n("img",{staticClass:"image",attrs:{src:t.getImgURL(a),alt:a.type}})])]),n("td",[t._v(t._s(a.reference_code))]),n("td",[t._v("\n                      "+t._s(t.displayTransaction(a))+"\n                      "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.hasEnoughBalance,expression:"hasEnoughBalance"}]},[a.transaction_flag&&a.transaction_flag.is_flagged?n("span",{staticClass:"attention-label"},[n("img",{attrs:{src:e("5c98"),width:"12",alt:""}}),t._v(" Needs Attention\n                        ")]):t._e()])]),n("td",[n("TransactionStatus",{attrs:{transaction:a,transactionStatus:t._f("getStatus")(a)}})],1),n("td",[t._v(t._s(t._f("getAmount")(a)))]),n("td",{staticClass:"text-grey"},[t._v(t._s(t._f("formatShortDate")(a.created_at)))])]],2)})),n("br"),n("br")],2)]),n("paginator",{directives:[{name:"show",rawName:"v-show",value:t.pagination.total>10,expression:"pagination.total > 10"}],attrs:{"total-pages":11,total:t.pagination.total,"per-page":t.pagination.perPage,"current-page":t.pagination.current},on:{pagechanged:t.onPageChange}})],1)])]],2)]),n("transaction-details-modal",{attrs:{transaction:t.selectedTransaction}})],1)},r=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("thead",[e("tr",[e("td"),e("td",[t._v("Transaction ID")]),e("td",[t._v("Transaction type")]),e("td",[t._v("Transaction Status")]),e("td",[t._v("Amount")]),e("td",[t._v("Date")])])])}],s=e("3af2"),i=e("6176"),c=e("56a2"),o=function(){return e.e("chunk-2d0c26c7").then(e.bind(null,"49f2"))},u={components:{"transaction-details-modal":s["default"],paginator:i["a"],TransactionStatus:o},mixins:[c["a"]]},l=u,d=(e("9d9a"),e("2877")),p=Object(d["a"])(l,n,r,!1,null,"7a3602a6",null);a["default"]=p.exports},6549:function(t,a,e){t.exports=e.p+"img/pm.9cce0b35.svg"},"75fc":function(t,a,e){"use strict";var n=e("a745"),r=e.n(n);function s(t){if(r()(t)){for(var a=0,e=new Array(t.length);a<t.length;a++)e[a]=t[a];return e}}var i=e("774e"),c=e.n(i),o=e("c8bb"),u=e.n(o);function l(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return c()(t)}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function p(t){return s(t)||l(t)||d()}e.d(a,"a",(function(){return p}))},"774e":function(t,a,e){t.exports=e("d2d5")},"7c2c":function(t,a,e){t.exports=e.p+"img/bitcoin.b126b5e5.svg"},8615:function(t,a,e){var n=e("5ca1"),r=e("504c")(!1);n(n.S,"Object",{values:function(t){return r(t)}})},"95d5":function(t,a,e){var n=e("40c3"),r=e("5168")("iterator"),s=e("481b");t.exports=e("584a").isIterable=function(t){var a=Object(t);return void 0!==a[r]||"@@iterator"in a||s.hasOwnProperty(n(a))}},"9d9a":function(t,a,e){"use strict";var n=e("ed6c"),r=e.n(n);r.a},a745:function(t,a,e){t.exports=e("f410")},b27b:function(t,a,e){"use strict";var n=e("36bf"),r=e.n(n);r.a},b353:function(t,a,e){t.exports=e.p+"img/icon.d22a781f.svg"},c8bb:function(t,a,e){t.exports=e("54a1")},d2d5:function(t,a,e){e("1654"),e("549b"),t.exports=e("584a").Array.from},e0ee:function(t,a,e){t.exports=e.p+"img/airtime-to-cash.de2d4f82.svg"},e66d:function(t,a,e){t.exports=e.p+"img/paypal.9e5ce1ff.svg"},ed6c:function(t,a,e){},f410:function(t,a,e){e("1af6"),t.exports=e("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-493a457b.01cca826.js.map