(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-acd79cca"],{1297:function(e,t,r){"use strict";r.d(t,"g",(function(){return o})),r.d(t,"i",(function(){return u})),r.d(t,"e",(function(){return c})),r.d(t,"d",(function(){return f})),r.d(t,"c",(function(){return d})),r.d(t,"h",(function(){return b})),r.d(t,"b",(function(){return v})),r.d(t,"f",(function(){return m})),r.d(t,"a",(function(){return x}));r("96cf");var n=r("3b8d"),a=r("adb5");function o(e){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("user/update/pin",{pin:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function u(e,t){return i.apply(this,arguments)}function i(){return i=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("user/verify/pin",{pin:t,is_reset_pin:r});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}function c(){return p.apply(this,arguments)}function p(){return p=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/auth/2fa/generate-code");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),p.apply(this,arguments)}function f(e){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/auth/2fa/enable",{otp:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(e){return h.apply(this,arguments)}function h(){return h=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/auth/2fa/disable",{otp:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function b(e){return w.apply(this,arguments)}function w(){return w=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/user/verify/password",{password:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),w.apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return y=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/delete_account",{uuid:t,callback_url:r});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/reset_userpin",{uuid:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function x(e){return O.apply(this,arguments)}function O(){return O=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/resend/verification_email",{email:t});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}},"454f":function(e,t,r){r("46a7");var n=r("584a").Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},"456d":function(e,t,r){var n=r("4bf8"),a=r("0d58");r("5eda")("keys",(function(){return function(e){return a(n(e))}}))},"46a7":function(e,t,r){var n=r("63b6");n(n.S+n.F*!r("8e60"),"Object",{defineProperty:r("d9f6").f})},"54d3":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"security-pin"}},[r("security-panel",{attrs:{title:"Delete Account",description:"We do our best to give you a great experience - weâ€™ll be sad to see you leave us.",button:{text:"Delete Account"}},on:{buttonClick:e.deleteAccount}}),r("basic-modal",{ref:"verifyPassword",attrs:{footer:!1}},[r("div",{attrs:{slot:"header"},slot:"header"},[r("h3",{staticClass:"text-semibold-thick"},[e._v("Verify Password")])]),r("div",{attrs:{slot:"body"},slot:"body"},[r("div",{staticClass:"text-default"},[r("div",{staticClass:"heading"}),r("form",{staticClass:"row mb-20 mt-20",on:{submit:function(t){return t.preventDefault(),e.verifyPassword(t)}}},[r("div",{staticClass:"col-xs-10 col-xs-offset-1 col-sm-8 col-sm-offset-2"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],ref:"verifyPasswordInput",staticClass:"form-control input-lg",attrs:{id:"verifyPasswordInput",type:"password",placeholder:"Input your password to proceed",required:"",autofocus:""},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),r("div",{staticClass:"submit text-center"},[r("button",{staticClass:"btn btn-primary px-30",attrs:{type:"submit",disabled:e.loading}},[e._v("\n                                                                Confirm\n                                                                "),r("i",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"icon-spinner2 spinner position-right ml-20"})])])])])])])])],1)},a=[],o=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),s=(r("2ef0"),r("2f62")),u=r("e49c"),i=r("1297");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(r,!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){return r.e("chunk-48f02545").then(r.bind(null,"fcfe"))},l=function(){return r.e("chunk-b4692ec2").then(r.bind(null,"86bf"))},d={name:"DeleteAccount",mixins:[u["a"]],components:{"security-panel":f,"basic-modal":l},data:function(){return{loading:!1,password:"",user:"",callback_url:"".concat("https://app.mypatricia.co","/reactivate_account/user")}},computed:p({},Object(s["c"])(["getUser"])),methods:{deleteAccount:function(){var e=this;this.$swal({type:"warning",title:"Are you sure?",text:"You will be able to contact our support to re-activate your account only within 30 days",focusCancel:!0,showCancelButton:!0,confirmButtonText:"Yes, delete it",preConfirm:function(){e.$refs.verifyPassword.open()}})},verifyPassword:function(){var e=this;this.loading=!0,Object(i["h"])(this.password).then((function(t){t.data.data.fail?(e.$swal({type:"error",text:"Invalid Password"}),e.loading=!1,e.password=""):e.processDelete()})).catch((function(t){t?t.response.data.data.fail&&e.$swal({type:"error",text:"Invalid Password"}):e.$swal({type:"error",text:"An error occurred, try again"}),e.loading=!1,e.password=""}))},processDelete:function(){var e=this;Object(i["b"])(this.getUser.uuid,this.callback_url).then((function(t){e.$swal({type:"success",text:"Your account has been successfully deleted"}),setTimeout((function(){e.logout()}),2e3)})).catch((function(t){t&&(419===t.response.data.status?e.$swal({type:"error",text:"Your account is currently flagged, you cannot your delete account at the moment!"}):e.$swal({type:"error",text:"An error occurred, try again"}))})).finally((function(){e.$refs.verifyPassword.close(),e.loading=!1,e.password=""}))},logout:function(){this.$store.dispatch("SET_TOKEN",null),this.$store.dispatch("SET_USER",null),this.$cookies.remove("token"),this.$cookies.remove("user"),window.location.href="/login"}}},h=d,b=(r("e6e6"),r("2877")),w=Object(b["a"])(h,n,a,!1,null,"3c94642d",null);t["default"]=w.exports},"5eda":function(e,t,r){var n=r("5ca1"),a=r("8378"),o=r("79e5");e.exports=function(e,t){var r=(a.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*o((function(){r(1)})),"Object",s)}},"85f2":function(e,t,r){e.exports=r("454f")},"8e6e":function(e,t,r){var n=r("5ca1"),a=r("990b"),o=r("6821"),s=r("11e9"),u=r("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){var t,r,n=o(e),i=s.f,c=a(n),p={},f=0;while(c.length>f)r=i(n,t=c[f++]),void 0!==r&&u(p,t,r);return p}})},"990b":function(e,t,r){var n=r("9093"),a=r("2621"),o=r("cb7c"),s=r("7726").Reflect;e.exports=s&&s.ownKeys||function(e){var t=n.f(o(e)),r=a.f;return r?t.concat(r(e)):t}},bd86:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r("85f2"),a=r.n(n);function o(e,t,r){return t in e?a()(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},e49c:function(e,t,r){"use strict";t["a"]={methods:{keyIsNumeric:function(e){var t=e.which||e.keyCode;return 46!==t&&t>31&&(t<48||t>57)&&e.preventDefault(),!0}}}},e524:function(e,t,r){},e6e6:function(e,t,r){"use strict";var n=r("e524"),a=r.n(n);a.a},f1ae:function(e,t,r){"use strict";var n=r("86cc"),a=r("4630");e.exports=function(e,t,r){t in e?n.f(e,t,a(0,r)):e[t]=r}}}]);
//# sourceMappingURL=chunk-acd79cca.cd763a19.js.map