(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-203a3a0b"],{"0ee2":function(t,e,a){"use strict";var i=a("dc47"),s=a.n(i);s.a},"1c4f":function(t,e,a){t.exports=a.p+"img/back_blue_btn.3484b907.svg"},"5a6f":function(t,e,a){t.exports=a.p+"img/mail.8bb2f7a7.svg"},7470:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"modal fade",attrs:{id:"upload_doc"}},[i("div",{staticClass:"modal-dialog"},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("div",{staticClass:"modal-title col-sm-9"},[i("h3",{staticClass:"title text-center"},[t._v("Upload a "+t._s(t.title))])]),t._m(0)]),i("div",{staticClass:"modal-body p-20 mr-10 ml-10",staticStyle:{"padding-bottom":"50px !important"}},[t.check_id?i("div",[i("div",{staticClass:"input-group"},[t._m(1),i("input",{directives:[{name:"model",rawName:"v-model",value:t.doc,expression:"doc"}],staticClass:"input-control select-type text-bold",attrs:{type:"text","data-toggle":"dropdown",placeholder:"Select ID Type",readonly:""},domProps:{value:t.doc},on:{input:function(e){e.target.composing||(t.doc=e.target.value)}}}),i("ul",{staticClass:"dropdown-menu pl-10 pr-10 pull-right pt-20"},t._l(t.docs,(function(e){return i("div",{key:e.name},[e.category.name===t.title?i("li",{staticClass:"dropdown-with-svg mt-5 pt-5",on:{click:function(a){return t.changeDoc(e)}}},[i("div",{staticClass:"row pr-20 pl-20"},[i("div",{staticClass:"col-xs-12"},[i("p",{},[t._v(t._s(e.name))])])])]):t._e()])})),0),i("span",{staticClass:"input-group-addon"},[t._m(2),i("ul",{staticClass:"dropdown-menu pl-10 pr-10 pull-right pt-20"},t._l(t.docs,(function(e){return i("div",{key:e.name},[e.category.name===t.title?i("li",{staticClass:"dropdown-with-svg mt-5 pt-5",on:{click:function(a){return t.changeDoc(e)}}},[i("div",{staticClass:"row pr-20 pl-20"},[i("div",{staticClass:"col-xs-12"},[i("p",{},[t._v(t._s(e.name))])])])]):t._e()])})),0)])]),i("div",[i("div",{staticClass:"input-group"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.id_number,expression:"id_number"}],staticClass:"input-control select-type text-bold",attrs:{type:"text","data-toggle":"dropdown",placeholder:"Enter ID number"},domProps:{value:t.id_number},on:{input:function(e){e.target.composing||(t.id_number=e.target.value)}}})])]),i("div",{staticClass:"col-xs-10 mt-20 col-xs-offset-1"},[i("br"),i("button",{staticClass:"btn btn-block btn-primary btn-patricia text-bold",on:{click:function(e){return t.verifyDetails()}}},[t._v("Proceed")])]),i("br")]):t._e(),t.manual_verification?i("div",{staticClass:"row mb-20"},[i("div",{staticClass:"upload-section",on:{click:function(e){return t.$refs.file3.click()}}},[i("img",{staticClass:"image-icon-drag",attrs:{src:"https://storage.googleapis.com/patricia-website-assets/upload_icon.svg",alt:"",width:"25px"}}),t._v("\n            "+t._s(t.text3)+"\n          ")]),i("input",{ref:"file3",staticClass:"nodisp",attrs:{type:"file",id:"file3"},on:{change:function(e){return t.getIdPhotograph()}}}),i("div",{staticClass:"text-center"},[i("button",{staticClass:"submit-doc-btn",on:{click:function(e){return t.manualVerificationIdUpload()}}},[t._v("Submit")])])]):t._e(),t.final_upload?i("div",{staticClass:"row mb-20"},[i("div",{staticClass:"prev-modal",on:{click:t.prevModal}},[i("img",{attrs:{src:a("1c4f"),width:"15px"}}),t._v(" back\n          ")]),i("form",{attrs:{action:"https://httpbin.org/post",method:"post"}},[i("div",{staticClass:"col-sm-10 col-sm-offset-1"},[i("label",{staticClass:"file_upload",attrs:{for:"file"}},[i("div",{staticClass:"file_upload_inner"},[i("img",{directives:[{name:"show",rawName:"v-show",value:0===t.images.length,expression:"images.length===0"}],staticClass:"image-icon-drag",attrs:{src:"https://storage.googleapis.com/patricia-website-assets/upload_icon.svg",alt:""}}),i("p",[t._v(t._s(t.text))])]),i("input",{ref:"file",attrs:{type:"file",id:"file"},on:{change:function(e){return t.handleFileUpload()}}})])]),i("div",{staticClass:"col-xs-10 mt-20 col-xs-offset-1"},[i("br"),i("button",{staticClass:"btn btn-block btn-primary btn-patricia text-bold",attrs:{type:"submit","data-dismiss":"modal"},on:{click:function(e){return t.submitFile()}}},[t._v("Upload")])])])]):t._e(),i("br"),i("br")])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close-btn",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[a("i",{staticClass:"fa fa-times fa-2x",attrs:{"aria-hidden":"true"}})])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"input-group-addon left"},[i("img",{attrs:{src:a("5a6f"),alt:"",width:"20px"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"btn-md input-dropdown-btn dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[a("span",{staticClass:"caret"})])}],o=(a("7f7f"),a("fc5c")),n=a("7f87"),r={computed:function(){},props:["title","docs"],components:{VueUploadMultipleImage:o["a"]},created:function(){},data:function(){return{doc:"",upload:"",images:[],imageData:{},file:"",text:"Click here to upload your image",name:"",date_of_birth:"",id_number:"",check_id:!0,manual_verification:!1,final_upload:!1,text2:"Upload Passport Photograph clearly showing your Face",text3:"Upload ID Document",image2:"",image3:"",selfie_status:!1,id_upload_status:!1,id_type:""}},methods:{handleFileUpload:function(){this.file=this.$refs.file.files[0],this.text=this.file.name},submitFile:function(){var t=this;this.$root.showLoader();var e=new FormData;e.append("document",this.file),e.append("type",this.upload),e.append("status",!0),Object(n["i"])(e).then((function(e){t.$root.hideLoader(),t.$swal({type:"success",title:"Upload Succesful",text:e.data.message,preConfirm:function(){window.location="/settings"}})})).catch((function(e){t.$root.hideLoader(),t.$swal({type:"error",title:"Error",text:e.response.data.data.errors[0]})}))},check:function(){this.file=this.$refs.file.files[0]},changeDoc:function(t){this.doc=t.name,this.upload=t.slug},take_photo:function(){this.photo=this.$refs.webcam.getPhoto()},verifyDetails:function(){var t=this;this.$root.showLoader(),"international_passport"===this.upload&&(this.id_type="PASSPORT"),"national_id_card"===this.upload&&(this.id_type="NATIONAL_ID"),"driver_licence"===this.upload&&(this.id_type="DRIVERS_LICENSE"),"voters_card"===this.upload&&(this.id_type="VOTER_ID");this.id_type,this.id_number;var e=new FormData;e.append("id_type",this.id_type),e.append("id_number",this.id_number),Object(n["j"])(e).then((function(e){t.$root.hideLoader(),t.check_id=!1,t.final_upload=!0})).catch((function(e){500==e.response.status?(t.$root.hideLoader(),t.$swal({type:"error",title:"Error",text:"An error occurred, try again later."})):"Data doesn't match !"==e.response.data.data?(t.$root.hideLoader(),t.$swal({type:"error",title:"Error",text:"This ID does not match this user account."}).then((function(){t.manual_verification=!0,t.check_id=!1}))):"Unable to validate ID - ID number is not in expected format"==e.response.data.data?(t.$root.hideLoader(),t.$swal({type:"error",title:"Error",text:"ID number is not in expected format"})):"Unable to validate ID - ID data not found"==e.response.data.data?(t.$root.hideLoader(),t.$swal({type:"error",title:"Error",text:"ID data not found"})):(t.$root.hideLoader(),t.$swal({type:"error",title:"Error",text:"An error occurred, try again later."}))}))},prevModal:function(){this.check_id=!0,this.final_upload=!1},getPassportPhotograph:function(){this.image2=this.$refs.file2.files[0],this.text2=this.image2.name,this.selfie_status=!0},getIdPhotograph:function(){this.image3=this.$refs.file3.files[0],this.text3=this.image3.name,this.id_upload_status=!0},manualVerificationIdUpload:function(){var t=this;"PASSPORT"===this.id_type&&(this.id_type="international_passport"),"NATIONAL_ID"===this.id_type&&(this.id_type="national_id_card"),"DRIVERS_LICENSE"===this.id_type&&(this.id_type="driver_licence"),"VOTER_ID"===this.id_type&&(this.id_type="voters_card"),this.$root.showLoader();var e=new FormData;e.append("document",this.image3),e.append("type",this.id_type),Object(n["i"])(e).then((function(e){t.$root.hideLoader(),t.$swal({type:"success",title:"Upload Succesful",text:e.data.message,preConfirm:function(){window.location="/settings"}})})).catch((function(e){t.$root.hideLoader(),t.$swal({type:"error",title:"Error",text:e.response.data.data.errors[0]}).then((function(){t.$root.hideLoader()}))}))}}},l=r,d=(a("0ee2"),a("2877")),c=Object(d["a"])(l,i,s,!1,null,"531815ab",null);e["default"]=c.exports},dc47:function(t,e,a){}}]);
//# sourceMappingURL=chunk-203a3a0b.be3b7af0.js.map