(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-214e19fa"],{1297:function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"i",(function(){return i})),a.d(e,"e",(function(){return l})),a.d(e,"d",(function(){return p})),a.d(e,"c",(function(){return f})),a.d(e,"h",(function(){return h})),a.d(e,"b",(function(){return g})),a.d(e,"f",(function(){return y})),a.d(e,"a",(function(){return x}));a("96cf");var n=a("3b8d"),s=a("adb5");function r(t){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("user/update/pin",{pin:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function i(t,e){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("user/verify/pin",{pin:e,is_reset_pin:a});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function l(){return u.apply(this,arguments)}function u(){return u=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/auth/2fa/generate-code");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function p(t){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/auth/2fa/enable",{otp:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function f(t){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/auth/2fa/disable",{otp:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function h(t){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/user/verify/password",{password:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),b.apply(this,arguments)}function g(t,e){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function t(e,a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/delete_account",{uuid:e,callback_url:a});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function y(t){return w.apply(this,arguments)}function w(){return w=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/reset_userpin",{uuid:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function x(t){return C.apply(this,arguments)}function C(){return C=Object(n["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,s["a"].post("/resend/verification_email",{email:e});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)}))),C.apply(this,arguments)}},"454f":function(t,e,a){a("46a7");var n=a("584a").Object;t.exports=function(t,e,a){return n.defineProperty(t,e,a)}},"456d":function(t,e,a){var n=a("4bf8"),s=a("0d58");a("5eda")("keys",(function(){return function(t){return s(n(t))}}))},"46a7":function(t,e,a){var n=a("63b6");n(n.S+n.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},"5c86":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"security-2fa"}},[n("security-panel",{attrs:{title:"2 Factor Authentication <small class='text-danger text-bold'>(optional)</small>",description:"2 Factor Authentication is a multi-layer security measure to ensure the safety of your account.",button:{text:t.userHas2faEnabled?"Disable":"Enable",loading:t.loadDisable2fa}},on:{buttonClick:t.enableOrDisable2fa}}),n("basic-modal",{ref:"2faModal",attrs:{footer:!1},on:{afterClose:t.resetModalData}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"text-center text-default mb-20"},[0!==t.modalData.step?[n("div",{staticClass:"heading"},[n("h1",{staticClass:"text-semibold-thick"},[t._v("2 Factor Authentication")]),1===t.modalData.step?n("small",{staticClass:"text-thin text-muted"},[t._v("\n                            We strongly recommend you to enable 2FA on your account."),n("br"),t._v("\n                            Please go through the following process to set up your "),n("br"),t._v("\n                            2 Factor Authentication.\n                        ")]):n("small",{staticClass:"text-thin text-muted"},[t._v("\n                            Each time you sign into your Patricia account,"),n("br"),t._v("\n                            you will need your password and verification code.\n                        ")])]),n("div",{staticClass:"navigation bg-light-grey"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-12"},[n("ul",{staticClass:"list-inline no-margin-bottom setup-progress small-text"},[n("li",[n("i",{class:["text-success position-left",t.modalData.step>=1?"icon-checkmark-circle":"icon-circle"]}),n("span",{staticClass:"text-bold"},[t._v("Download 2FA App")])]),n("li",{staticClass:"icon-wrapper"},[n("i",{staticClass:"fas fa-long-arrow-alt-right arrow-icon"})]),n("li",[n("i",{class:["text-success position-left",t.modalData.step>=2?"icon-checkmark-circle":"icon-circle"]}),n("span",{class:{"text-bold":t.modalData.step>1}},[t._v("Copy or Scan")])]),n("li",{staticClass:"icon-wrapper"},[n("i",{staticClass:"fas fa-long-arrow-alt-right arrow-icon"})]),n("li",[n("i",{class:["text-success position-left",t.modalData.step>=3?"icon-checkmark-circle":"icon-circle"]}),n("span",{class:{"text-bold":t.modalData.step>2}},[t._v("Enable")])]),n("li",{staticClass:"icon-wrapper"},[n("i",{staticClass:"fas fa-long-arrow-alt-right arrow-icon"})]),n("li",[n("i",{class:["text-success position-left",4===t.modalData.step?"icon-checkmark-circle":"icon-circle"]}),n("span",{class:{"text-bold":t.modalData.step>3}},[t._v("Summary")])])])])])])]:t._e(),n("div",{class:["row",0!==t.modalData.step?"row mt-20":""]},[n("div",{staticClass:"col-sm-12"},[0===t.modalData.step?[n("h1",{staticClass:"text-danger text-semibold-thick fs-30"},[t._v("Please Note!")]),n("div",{staticClass:"mt-25 content-group"},[n("p",{staticClass:"mt-25"},[t._v("\n                                    2 factor authentication is an additional security layer for user identity\n                                    confirmation. It is highly recommended but\n                                    "),n("strong",[t._v("optional")]),t._v(".\n                                ")]),n("br"),n("p",[t._v("\n                                    You are advised to download the authenticator app on your mobile device before\n                                    proceeding to enable two factor authentication on your account.\n                                ")]),n("p",[t._v("\n                                    Once enabled successfully, you would be required to verify your account\n                                    ownership by inputting a code generated from your athenticator app anytime you\n                                    want to login to your account. Easy peasy!\n                                ")]),n("br"),n("p",[t._v("\n                                    To set up two-factor authentication, Please click next and follow the\n                                    instructions carefully.\n                                ")])])]:1===t.modalData.step?[n("h6",{staticClass:"text-semibold-thick"},[t._v("Let's set up your Account!")]),n("small",{staticClass:"text-thin text-muted"},[t._v("Download and install the Google Authenticator app on your phone")]),n("ul",{staticClass:"list-inline app-download no-margin-bottom mt-20 mb-20"},[n("li",[n("img",{attrs:{src:a("9aa6"),alt:""}})]),n("li",[n("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2&hl=en",target:"_blank"}},[n("DownloadApp",{staticClass:"mt-sm-10",attrs:{store:"Google Play"}})],1)]),n("li",[n("a",{attrs:{href:"https://itunes.apple.com/us/app/google-authenticator/id388497605?mt=8",target:"_blank"}},[n("DownloadApp",{staticClass:"mt-sm-10",attrs:{store:"App Store"}})],1)])]),n("small",{staticClass:"text-thin text-muted"},[t._v("Or download the Authy App on your phone")]),n("ul",{staticClass:"list-inline app-download no-margin-bottom mt-20 mb-20"},[n("li",[n("img",{attrs:{src:a("b46f"),alt:""}})]),n("li",[n("a",{attrs:{href:"https://play.google.com/store/apps/details?id=com.authy.authy&hl=en",target:"_blank"}},[n("DownloadApp",{staticClass:"mt-sm-10",attrs:{store:"Google Play"}})],1)]),n("li",[n("a",{attrs:{href:"https://apps.apple.com/us/app/authy/id494168017",target:"_blank"}},[n("DownloadApp",{staticClass:"mt-sm-10",attrs:{store:"App Store"}})],1)])])]:2===t.modalData.step&&t.modalData.copyCodeSelected?[n("h6",{staticClass:"text-semibold-thick"},[t._v("Tap to copy secret key")]),n("input",{staticClass:"text-bold text-success mt-5 twoFaSecret",attrs:{readonly:"",id:"google2faSecret"},domProps:{value:t.google2faData.secret},on:{click:t.copyAddress}}),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-offset-1 col-sm-10 text-left"},[n("div",{staticClass:"well pl-5 no-border bg-light-grey"},[n("ol",{staticClass:"list no-margin-bottom small-text"},[n("li",[t._v('Select "Enter a provided key"')]),n("li",[t._v('Enter "Patricia" in account name')]),n("li",[t._v('Copy and paste the above secret key in "Your key"')])])])])]),n("h3",[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modalData.copyCodeSelected=!1}}},[n("u",[t._v("Scan QR code instead")])])])]:2!==t.modalData.step||t.modalData.copyCodeSelected?3===t.modalData.step?[n("h6",{staticClass:"text-semibold-thick"},[t._v("Enter the code from your authenticator app below")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-offset-3 col-sm-6"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.pin,expression:"pin"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.pin},on:{input:function(e){e.target.composing||(t.pin=e.target.value)}}})])])]:[n("h6",{staticClass:"text-semibold-thick"},[t._v("2 Factor Authentication enabled")]),n("small",{staticClass:"text-thin text-muted"},[t._v("\n                                2 Factor Authentication is now enabled for your Patricia account. The code"),n("br"),t._v("\n                                generated by the Google authenticator app will now be"),n("br"),t._v("\n                                needed for every login.\n                            ")])]:[n("h6",{staticClass:"text-semibold-thick"},[t._v("Scan QR code")]),n("small",{staticClass:"text-thin text-muted"},[t._v("Scan the QR code using the Google Authenticator app")]),n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-offset-3 col-sm-6"},[n("img",{staticClass:"img-responsive",attrs:{src:t.google2faData.qr_code,alt:"sample-qr-code"}})])]),n("h3",{staticClass:"mt-5"},[n("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.modalData.copyCodeSelected=!0}}},[n("u",[t._v("Copy secret key instead")])])])]],2)]),n("div",{staticClass:"button mt-30 mb-20"},[n("button",{staticClass:"btn btn-primary px-30",attrs:{type:"button"},on:{click:t.moveToNextStep}},[t._v("\n                        "+t._s(t.modalData.step>3?"Finish":"Next")+"\n                        "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"icon-spinner2 spinner position-right ml-20"})])])],2)])]),n("div",{staticClass:"modal fade",attrs:{id:"disableModal"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.otp,expression:"otp"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.otp},on:{input:function(e){e.target.composing||(t.otp=e.target.value)}}}),n("div",{staticClass:"text-center mt-20"},[n("a",{staticClass:"btn btn-primary px-30",attrs:{"data-dismiss":"modal"},on:{click:function(e){return t.disable2fa()}}},[t._v("Disable")])])])])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h4",[t._v("Disable two-factor authentication")]),a("p",{staticClass:"text-muted mt-10"},[t._v("\n                        Enter the one-time password given on the google authenticator app or the Authy app.\n                    ")])])}],r=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),o=a("2f62"),i=a("1297");function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(a,!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(a).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u=function(){return a.e("chunk-48f02545").then(a.bind(null,"fcfe"))},p=function(){return a.e("chunk-b4692ec2").then(a.bind(null,"86bf"))},d=function(){return a.e("chunk-f0fdef00").then(a.bind(null,"1adf"))},f={name:"security-2fa",components:{"security-panel":u,"basic-modal":p,DownloadApp:d},data:function(){return{modalData:{step:0,copyCodeSelected:!0},google2faData:{},loading:!1,loadDisable2fa:!1,pin:"",otp:""}},computed:l({},Object(o["c"])(["getUser"]),{userHas2faEnabled:function(){return this.getUser.has_2fa_enabled}}),methods:{enableOrDisable2fa:function(){this.userHas2faEnabled?(this.loadDisable2fa=!1,$("#disableModal").modal("show")):this.$refs["2faModal"].open()},disable2fa:function(){var t=this;Object(i["c"])(this.otp).then((function(e){t.update2faStatusInStore(!1),t.loadDisable2fa=!1,t.$swal({type:"success",title:"Chief",text:"You have successfully disabled 2 Factor Authentication"})})).catch((function(e){t.loadDisable2fa=!1,t.$swal({type:"error",title:"Oops!",text:e.response.data.message?e.response.data.message:e.response.data.data.message})}))},moveToNextStep:function(){var t=this;1===this.modalData.step?(this.loading=!0,Object(i["e"])().then((function(e){t.google2faData=e.data.data,t.loading=!1,t.modalData.step++})).catch((function(e){t.loading=!1,t.$swal({type:"error",title:"Oops!",text:"An error occurred while generating your 2FA key code"})}))):3===this.modalData.step?Object(i["d"])(this.pin).then((function(e){t.modalData.step+=1})).catch((function(e){t.$swal({type:"error",title:"Oops!",text:"Invalid Code, Please try again."})})):(this.modalData.step++,this.modalData.step>3&&(this.$refs["2faModal"].close(),setTimeout((function(){t.update2faStatusInStore(!0),t.resetModalData()}),300)))},resetModalData:function(){this.modalData={step:0,copyCodeSelected:!0},this.google2faData={image:"",secret:""},this.loading=!1},update2faStatusInStore:function(t){this.getUser.has_2fa_enabled=t,this.$store.dispatch("SET_USER",this.getUser),this.$cookies.set("user",this.getUser)},copyAddress:function(){var t=document.getElementById("google2faSecret");t.select(),setTimeout(this.changeText,"5000"),document.execCommand("copy"),this.text="Copied",$("#copy").addClass("swing")}}},m=f,h=(a("9d9f"),a("2877")),b=Object(h["a"])(m,n,s,!1,null,"11956520",null);e["default"]=b.exports},"5eda":function(t,e,a){var n=a("5ca1"),s=a("8378"),r=a("79e5");t.exports=function(t,e){var a=(s.Object||{})[t]||Object[t],o={};o[t]=e(a),n(n.S+n.F*r((function(){a(1)})),"Object",o)}},"85f2":function(t,e,a){t.exports=a("454f")},"8e6e":function(t,e,a){var n=a("5ca1"),s=a("990b"),r=a("6821"),o=a("11e9"),i=a("f1ae");n(n.S,"Object",{getOwnPropertyDescriptors:function(t){var e,a,n=r(t),c=o.f,l=s(n),u={},p=0;while(l.length>p)a=c(n,e=l[p++]),void 0!==a&&i(u,e,a);return u}})},"990b":function(t,e,a){var n=a("9093"),s=a("2621"),r=a("cb7c"),o=a("7726").Reflect;t.exports=o&&o.ownKeys||function(t){var e=n.f(r(t)),a=s.f;return a?e.concat(a(t)):e}},"9aa6":function(t,e,a){t.exports=a.p+"img/googleplayicon.529d60eb.svg"},"9d9f":function(t,e,a){"use strict";var n=a("bde9"),s=a.n(n);s.a},b46f:function(t,e,a){t.exports=a.p+"img/authyicon.77fb73b9.svg"},bd86:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var n=a("85f2"),s=a.n(n);function r(t,e,a){return e in t?s()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},bde9:function(t,e,a){},f1ae:function(t,e,a){"use strict";var n=a("86cc"),s=a("4630");t.exports=function(t,e,a){e in t?n.f(t,e,s(0,a)):t[e]=a}}}]);
//# sourceMappingURL=chunk-214e19fa.cd0c60f4.js.map