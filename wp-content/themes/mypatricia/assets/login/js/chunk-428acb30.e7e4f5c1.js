(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-428acb30"],{"0f62":function(e,t,a){e.exports=a.p+"img/avatar.fba67025.svg"},"17cf":function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return u})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return h})),a.d(t,"f",(function(){return p})),a.d(t,"g",(function(){return y}));a("96cf");var n=a("3b8d"),r=a("adb5");function s(e){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].get("card/currencies/"+t.uuid);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a="card/buy/"+("new"==t.cardCategory?"non-discounted":t.cardCategory)+"/"+t.uuid,e.next=3,r["a"].get(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("card/buy/confirm",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function l(e){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("card/buy/proceed/manual",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}function h(e){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("card/buy/proceed",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("sendAnyOtp",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function y(e){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("verifyAnyOtp",t);case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}},2576:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"tab-pane active",attrs:{id:"buy"}},[a("form",{attrs:{action:"",method:"post",id:"buy-form"}},[a("br"),a("h6",{directives:[{name:"show",rawName:"v-show",value:e.showCurrenciesStatus,expression:"showCurrenciesStatus"}],staticClass:"text-bold"},[e._v("Select Currency")]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showCurrenciesStatus,expression:"showCurrenciesStatus"}],staticClass:"row"},e._l(e.currencies,(function(t){return a("div",{key:t.uuid,staticClass:"col-md-2 col-xs-3 pt-5 img-grad flag-container text-center animated fadeInRight"},[a("flag",{attrs:{checked:e.selectedCurrency==t,name:"buy-country",country:t.currency,flagUrl:e.getCurrencyImagePath(t.currency)},on:{showSellers:function(a){return e.selectCurrency(t)}}})],1)})),0),a("br"),a("h6",{directives:[{name:"show",rawName:"v-show",value:e.showVariationsStatus,expression:"showVariationsStatus"}],staticClass:"fadein text-bold"},[e.discounted?[e._v("Select predefined amount")]:[e._v("Giftcard Amount")]],2),e.cardVariations.length>0?[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showVariationsStatus,expression:"showVariationsStatus"}],staticClass:"row"},[e._l(e.cardVariations,(function(t){return a("div",{key:t.uuid,staticClass:"col-md-3 animated fadeInDown fadein col-xs-4 pt-5 img-grad flag-container text-center"},[a("amount",{directives:[{name:"show",rawName:"v-show",value:t.is_acceptance_form_enabled,expression:"variation.is_acceptance_form_enabled"}],staticClass:"card-amount",attrs:{name:"buy-amount",amount:t.face_value_range_to,flagUrl:t.image,multiple:!0,id:t.uuid},on:{"counter-changed":e.updateVariationQuantity}})],1)})),a("br")],2),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showVariationsStatus,expression:"showVariationsStatus"}],staticClass:"col-md-12"},[a("h6",{staticClass:"fadein animated fadeInDown text-center text-grey2"},[e._v("you pay:")]),a("h2",{staticClass:"fadein animated fadeInDown text-bold text-center no-margin-top mb-1",class:e.hasEnoughFunds?"":"text-danger"},[e._v("\n                    ₦ "+e._s(e._f("formatAmount")(e._f("parseRate")(e.discountedTotalPay)))+"\n                ")]),a("h4",{staticClass:"text-center no-margin-top totalPayText"},[e._v("₦ "+e._s(e._f("formatAmount")(e._f("parseRate")(e.totalPay))))]),e.hasEnoughFunds?e._e():[a("h6",{staticClass:"text-danger text-center"},[e._v("\n                        Chief, you don't have enough funds for this transaction,\n                        "),a("br"),a("router-link",{attrs:{to:"/wallet/naira"}},[e._v("Click here to fund your wallet")])],1)],e._l(e.selectedVariations,(function(t){return a("h6",{directives:[{name:"show",rawName:"v-show",value:"discounted"==e.cardCategory,expression:"cardCategory == 'discounted'"}],key:t.face_value_range_to,staticClass:"fadein animated fadeInDown text-center"},[t.quantity>0&&e.hasEnoughFunds?[e._v("\n                        On "+e._s(t.face_value_range_to)+" "+e._s(e.selectedCurrency.currency)+", you will get a\n                        discount of "+e._s(t.discount)+"% each\n                    ")]:e._e()],2)}))],2)]:[a("div",{directives:[{name:"show",rawName:"v-show",value:e.showVariationsStatus,expression:"showVariationsStatus"}],staticClass:"row"},[a("h6",{staticClass:"col-md-12 pt-5 text-center fadein animated fadeInDown text-bold"},[e._v("Card not Available")])])],e.discounted?[a("button",{staticClass:"btn upbutton btn-primary mt-10",attrs:{type:"button","data-dismiss":"modal","data-toggle":"modal","data-target":"#apple-modal",disabled:e.disableBuyBtn}},[e._v("\n                Next\n            ")]),a("div",{staticClass:"col-lg-12"},[a("h6",{staticClass:"text-grey text-center",domProps:{innerHTML:e._s(this.$store.state.card.confirmation_time_info?this.$store.state.card.confirmation_time_info:"Card delivery time usually within 6 - hours")}})])]:[a("button",{staticClass:"btn upbutton btn-primary mt-10",attrs:{type:"button",disabled:e.disableBuyBtn},on:{click:e.promptConfirmTransaction}},[e._v("\n                Buy Now\n            ")])]],2),a("discounted-card-credentials",{on:{"buyid-credentials":e.setDiscountedCardCredentials,"send-modal":e.sendModal,"send-otp":e.sendOtp}}),a("pin-input",{on:{"pin-verified":e.confirm}}),a("otp-modal",{on:{verify:e.verifyOtp,"resend-otp":e.sendOtp}}),a("confirm-modal",{on:{proceed:e.proceed}},[a("div",[a("p",[e._v("Do you want to proceed with the purchase of:")]),a("p",[a("strong",[e._v("Card Type:")]),e._v(" "+e._s(e.currentCard.name))]),e._l(e.selectedVariations,(function(t){return a("div",{key:t.quantity,staticClass:"mt-10"},[t.quantity>0?a("div",[a("hr"),a("p",[a("strong",[e._v("Card amount: ")]),e._v("\n                        "+e._s(t.face_value_range_to+" "+e.selectedCurrency.currency)+"\n                    ")]),a("p",[a("strong",[e._v("Quantity: ")]),e._v(e._s(t.quantity))])]):e._e()])}))],2)])],1)},r=[],s=(a("c5f6"),a("28a5"),a("7514"),a("7f7f"),a("ac6a"),a("456d"),a("d7c2")),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal fade mobile-scroll",attrs:{id:"apple-modal"}},[n("div",{staticClass:"modal-dialog"},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-body p-20 mr-10 ml-10 text-center"},[n("br"),n("img",{staticClass:"img-responsive inline-sm",attrs:{src:a("0f62"),alt:"card"}}),n("br"),n("br"),n("h4",{staticClass:"text-bold text-primary"},[e._v("Account ID")]),n("h6",{staticClass:"text-grey2"},[e._v("\n          Kindly change your Apple/Amazon/Google Play ID password to\n          "),n("b",[e._v(e._s(e.defaultPassword))]),n("br"),e._v("or input your password\n        ")]),n("br"),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12 row text-center"},[n("form",{staticClass:"text-center col-md-8 col-md-offset-2 col-sm-10 col-sm-offset-1",on:{submit:function(t){return t.preventDefault(),e.proceed(t)}}},[n("br"),n("div",{staticClass:"input-group"},[e._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:e.ID,expression:"ID"}],staticClass:"form-control",attrs:{type:"email",placeholder:"Account ID",required:""},domProps:{value:e.ID},on:{keydown:e.checkInput,input:function(t){t.target.composing||(e.ID=t.target.value)}}})]),n("br"),n("div",{staticClass:"input-group"},[e._m(1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Password",required:""},domProps:{value:e.password},on:{keydown:e.checkInput,input:function(t){t.target.composing||(e.password=t.target.value)}}})]),n("br"),n("br"),n("span",{staticClass:"text-grey2 mb-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"checked"}],attrs:{type:"checkbox",id:"checkbox",required:""},domProps:{checked:Array.isArray(e.checked)?e._i(e.checked,null)>-1:e.checked},on:{change:function(t){var a=e.checked,n=t.target,r=!!n.checked;if(Array.isArray(a)){var s=null,o=e._i(a,s);n.checked?o<0&&(e.checked=a.concat([s])):o>-1&&(e.checked=a.slice(0,o).concat(a.slice(o+1)))}else e.checked=r}}}),e._v("\n                Turn off two factor authentication.\n                "),n("a",{on:{click:e.sendModal}},[e._v("click here")]),e._v(" to find out how!\n              ")]),n("br"),n("p-button",{attrs:{type:"submit",disabled:!1===e.enableButton||!1===e.checked,text:"Finish"}}),n("br")],1)])]),n("br"),n("br")])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"icon-user"})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"input-group-addon"},[a("i",{staticClass:"icon-lock2"})])}],c=function(){return a.e("chunk-145cffda").then(a.bind(null,"6b3b"))},u=function(){return a.e("chunk-28cbbf04").then(a.bind(null,"2b7a"))},d={components:{"p-button":c,"p-textbox":u},data:function(){return{ID:"",password:"",phone:"",defaultPassword:this.$store.state.defaultBuyPassword,checked:!1,enableButton:!1}},methods:{getAllData:function(){var e={id:this.ID,password:""==this.password?this.defaultPassword:this.password,phone:this.phone};return e},checkInput:function(){""!==this.ID&&""!==this.password&&""!==this.phone?this.enableButton=!0:this.enableButton=!1},proceed:function(){var e=this.getAllData();this.$emit("buyid-credentials",e),$("#apple-modal").modal("hide")},sendModal:function(){this.$emit("send-modal")}}},l=d,m=(a("c14a"),a("2877")),h=Object(m["a"])(l,o,i,!1,null,"e54811e2",null),f=h.exports,p=a("58d9"),g=a("17cf"),y=a("ced5"),v=a("1940"),w=a.n(v),_=(a("280a"),a("32fcd")),b=function(){return a.e("chunk-c1d65660").then(a.bind(null,"2399"))},C=function(){return a.e("chunk-542e087e").then(a.bind(null,"73f8"))},x=function(){return a.e("chunk-5c96b416").then(a.bind(null,"e9a9"))},k=function(){return a.e("chunk-98325c04").then(a.bind(null,"0a0c"))},P=function(){return a.e("chunk-1a392542").then(a.bind(null,"7209"))},B=function(){return a.e("chunk-6f386506").then(a.bind(null,"a7bc"))},N={components:{amount:x,"card-category":b,"discounted-card-credentials":f,"otp-modal":P,flag:k,PinInput:C,"confirm-modal":B},created:function(){var e=this;Object(y["b"])(this).then((function(t){e.currentCard=t.data.data.card,Object.keys(e.currentCard).length<1?(e.$root.hideLoader(),e.$router.push("/giftcards")):e.getCurrencies()}))},data:function(){return{uuid:this.$route.params.name,showOthers:!1,discounted:!1,cardtypeImage:{new:a("e8ce"),discounted:a("eb5f")},cardCategory:"new",currentCard:{},currencies:[],discountedCurrencies:[],newCurrencies:[],firstFourFlags:[],otherFlags:[],cardVariations:[],selectedCurrency:[],selectedVariations:[],showVariationsStatus:!1,showCardCategoryStatus:!1,showCurrenciesStatus:!0,disableBuyBtn:!0,totalPay:0,discountedTotalPay:0,hasEnoughFunds:!0,discountedCardCredentials:{},wallet:{},confirmText:""}},methods:{selectCardCategory:function(e){var t=this;"new"==e&&(this.cardCategory="new",this.currencies=[],this.selectedCurrency=[],this.selectedVariations=[],this.discounted=!1,setTimeout((function(){t.currencies=t.newCurrencies}),200)),this.totalPay=0,this.discountedTotalPay=0,this.disableBuyBtn=!0,this.showVariationsStatus=!1,this.showCurrenciesStatus=!0,this.hasEnoughFunds=!0},getCurrencies:function(){var e=this;Object(g["d"])(this).then((function(t){var a=t.data.data.currencies;e.handleCurrencies(a),e.$root.hideLoader()})).catch((function(t){w()("Error",t.response.data.message?t.response.data.message:t.response.data.data.message,"error"),e.$root.hideLoader()}))},handleCurrencies:function(e){this.discountedCurrencies=e,this.newCurrencies=e,this.currencies=this.discountedCurrencies},selectCurrency:function(e){this.selectedCurrency=e,this.cardVariations=[],this.selectedVariations=[],this.totalPay=0,this.discountedTotalPay=0,this.disableBuyBtn=!0,this.hasEnoughFunds=!0,this.getVariations()},getVariations:function(){var e=this;this.$root.showLoader(),Object(g["e"])(this).then((function(t){var a=t.data.data.variations;e.cardVariations=e.handleVariations(a),e.cardVariations.forEach((function(t){t.quantity=0,e.selectedVariations.push(t)})),e.$root.hideLoader(),e.showVariationsStatus=!0})).catch((function(t){w()("Error",t.response.data.message?t.response.data.message:t.response.data.data.message,"error"),e.$root.hideLoader()}))},handleVariations:function(e){var t=this,a=this.$store.state.s3_url;return e.forEach((function(e){e.image=a+t.currentCard.picture_url})),e},updateVariationQuantity:function(e){this.selectedVariations=[],this.cardVariations.find((function(t){return t.uuid===e.uuid})).quantity=e.quantity,this.selectedVariations=this.cardVariations,this.calculatePayment()},calculatePayment:function(){var e,t=0;this.selectedVariations.forEach((function(a){e=0,t+=a.rate*a.face_value_range_to*a.quantity,e+=t-a.discount/100*t})),this.discountedTotalPay=e,this.totalPay=t,this.verifyFund()},verifyFund:function(){var e=this.$store.getters.getUser;this.wallet=e.wallet;var t=e.wallet.actual_amount,a=parseInt(this.totalPay);t=parseInt(t.split(",").join("")),this.discounted?a>=0&&t>=this.discountedTotalPay?(this.hasEnoughFunds=!0,this.disableBuyBtn=!1,0==this.totalPay&&(this.disableBuyBtn=!0)):(this.hasEnoughFunds=!1,this.disableBuyBtn=!0):a>=0&&t>=this.totalPay?(this.hasEnoughFunds=!0,this.disableBuyBtn=!1,0==this.totalPay&&(this.disableBuyBtn=!0)):(this.hasEnoughFunds=!1,this.disableBuyBtn=!0)},promptConfirmTransaction:function(){var e=this,t="Do you want to proceed with this the purchase of: \n";this.selectedVariations.forEach((function(a){a.quantity>0&&(t+=a.face_value_range_to+" "+e.selectedCurrency.currency+" "+e.currentCard.name+"  x"+a.quantity+"\n")})),t+="giftcard(s)?",this.confirmText=t,$("#confirm-proceed").modal("show")},proceed:function(){$("#confirm-proceed").modal("hide"),$("#pin-modal").modal("show")},confirm:function(){var e=this;this.$root.showLoader();var t=0;this.selectedVariations.forEach((function(e){e.quantity>0&&(t+=e.face_value_range_to*e.quantity)}));var a={amount:t,card_name:this.currentCard.name,currency:this.selectedCurrency.currency};Object(g["c"])(a).then((function(t){if(t.data.data.info)if(0==t.data.data.info)e.$root.hideLoader(),w()("Error",t.data.message,"warning"),e.$router.push("/dashboard");else if(1==t.data.data.info)e.$root.hideLoader(),$("#insufficient-fund-modal").modal("show");else if(200==t.data.data.info){if("discounted"===e.cardCategory)return void e.$swal({type:"error",title:"Chief",text:"This action has been suspended temporarily."});if("new"===e.cardCategory)return void e.processNewCard()}})).catch((function(t){w()("Error",t.response.data.message?t.response.data.message:t.response.data.data.message,"error"),e.$root.hideLoader()}))},setDiscountedCardCredentials:function(e){e?(this.discountedCardCredentials.id=e.id,this.discountedCardCredentials.password=e.password,this.discountedCardCredentials.phone=e.phone,this.sendOtp()):this.$router.push("/giftcards")},processDiscountedCard:function(){var e=this,t=this.selectedVariations.filter((function(e){return e.quantity>0}));t.forEach((function(t){var a={email:e.discountedCardCredentials.id,password:e.discountedCardCredentials.password,rate_variation_uuid:t.uuid};if(1==t.quantity)Object(g["a"])(a).then((function(t){e.$root.hideLoader(),200==t.data.status?$("#success-modal").modal("show"):(w()("Error",t.data.message,"error"),e.$root.hideLoader(),e.$router.push("/"))})).catch((function(t){if(e.$root.hideLoader(),400===t.response.data.status)if("flagged_transaction_naira"===t.response.data.error_code||"flagged_transaction_naira_btc"===t.response.data.error_code){var a=new _["a"](e,t,e.flagHandlerCallBack);a.showResolveDebt()}else if("kyc_upload_one_time_exceeded"===t.response.data.error_code||"kyc_bvn_one_time_exceeded"===t.response.data.error_code||"kyc_bvn_daily_limit_exceeded"===t.response.data.error_code||"kyc_upload_daily_limit_exceeded"===t.response.data.error_code){var n='<div class="p-10 spacing-1">'.concat(t.response.data.message," <br><h5>(kindly upgrade your account.)</h5></div>");e.$swal({type:"warning",html:n,confirmButtonText:"Upgrade Account",showCancelButton:!0,cancelButtonText:"Not Now",allowOutsideClick:!1,preConfirm:function(){return e.$router.push("/settings?kyc=true")}})}else e.$swal({type:"error",title:"Chief",text:t.response.data.message?t.response.data.message:t.response.data.data.message});else w()("Error",t.response.data.message?t.response.data.message:t.response.data.data.message,"error")}));else for(var n=function(n){Object(g["a"])(a).then((function(a){n==t.quantity-1&&(e.$root.hideLoader(),200==a.data.status?$("#success-modal").modal("show"):(e.$root.hideLoader(),w()("Error",a.data.message,"error")))})).catch((function(a){if(n==t.quantity-1)if(e.$root.hideLoader(),400===a.response.data.status)if("flagged_transaction_naira"===a.response.data.error_code||"flagged_transaction_naira_btc"===a.response.data.error_code){var r=new _["a"](e,a,e.flagHandlerCallBack);r.showResolveDebt()}else if("kyc_upload_one_time_exceeded"===a.response.data.error_code||"kyc_bvn_one_time_exceeded"===a.response.data.error_code||"kyc_bvn_daily_limit_exceeded"===a.response.data.error_code||"kyc_upload_daily_limit_exceeded"===a.response.data.error_code){var s='<div class="p-10 spacing-1">'.concat(a.response.data.message," <br><h5>(kindly upgrade your account.)</h5></div>");e.$swal({type:"warning",html:s,confirmButtonText:"Upgrade Account",showCancelButton:!0,cancelButtonText:"Not Now",allowOutsideClick:!1,preConfirm:function(){return e.$router.push("/settings?kyc=true")}})}else e.$swal({type:"error",title:"Ops",text:a.response.data.message?a.response.data.message:a.response.data.data.message});else w()("Error",a.response.data.message?a.response.data.message:a.response.data.data.message,"error")}))},r=0;r<t.quantity;r++)n(r)}))},processNewCard:function(){var e=this,t=this.selectedVariations.filter((function(e){return e.quantity>0}));t.forEach((function(t){var a={rate_variation_uuid:t.uuid};if(1==t.quantity)Object(g["b"])(a).then((function(t){e.$root.hideLoader(),200==t.data.status?$("#success-modal").modal("show"):(w()("Error",t.data.message,"error"),e.$root.hideLoader())})).catch((function(t){if(e.$root.hideLoader(),400===t.response.data.status)if("flagged_transaction_naira"===t.response.data.error_code||"flagged_transaction_naira_btc"===t.response.data.error_code){var a=new _["a"](e,t,e.flagHandlerCallBack);a.showResolveDebt()}else if("kyc_upload_one_time_exceeded"===t.response.data.error_code||"kyc_bvn_one_time_exceeded"===t.response.data.error_code||"kyc_bvn_daily_limit_exceeded"===t.response.data.error_code||"kyc_upload_daily_limit_exceeded"===t.response.data.error_code){var n='<div class="p-10 spacing-1">'.concat(t.response.data.message," <br><h5>(kindly upgrade your account.)</h5></div>");e.$swal({type:"warning",html:n,confirmButtonText:"Upgrade Account",showCancelButton:!0,cancelButtonText:"Not Now",allowOutsideClick:!1,preConfirm:function(){return e.$router.push("/settings?kyc=true")}})}else e.$swal({type:"error",title:"Chief",text:t.response.data.message?t.response.data.message:t.response.data.data.message});else w()("Error",t.response.data.message?t.response.data.message:t.response.data.data.message,"error")}));else for(var n=function(n){Object(g["b"])(a).then((function(a){n==t.quantity-1&&(e.$root.hideLoader(),200==a.data.status?$("#success-modal").modal("show"):(w()("Error",a.data.message,"error"),e.$root.hideLoader()))})).catch((function(a){if(n==t.quantity-1)if(e.$root.hideLoader(),400===a.response.data.status)if("flagged_transaction_naira"===a.response.data.error_code||"flagged_transaction_naira_btc"===a.response.data.error_code){var r=new _["a"](e,a,e.flagHandlerCallBack);r.showResolveDebt()}else if("kyc_upload_one_time_exceeded"===a.response.data.error_code||"kyc_bvn_one_time_exceeded"===a.response.data.error_code||"kyc_bvn_daily_limit_exceeded"===a.response.data.error_code||"kyc_upload_daily_limit_exceeded"===a.response.data.error_code){var s='<div class="p-10 spacing-1">'.concat(a.response.data.message," <br><h5>(kindly upgrade your account.)</h5></div>");e.$swal({type:"warning",html:s,confirmButtonText:"Upgrade Account",showCancelButton:!0,cancelButtonText:"Not Now",allowOutsideClick:!1,preConfirm:function(){return e.$router.push("/settings?kyc=true")}})}else e.$swal({type:"error",title:"Chief",text:a.response.data.message?a.response.data.message:a.response.data.data.message});else w()("Error",a.response.data.message?a.response.data.message:a.response.data.data.message,"error")}))},r=0;r<t.quantity;r++)n(r)}))},formatAmount:function(e){var t=Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return t.format(Number(e))},getCurrencyImagePath:function(e){var t=p["a"].find((function(t){return t.currency.name===e}));return t||(t=p["a"][0]),t.currency.imagePath},sendModal:function(){this.$emit("open-modal")},sendOtp:function(){var e=this,t=this.$store.state.user.phone,a=this.$store.state.user.email,n={phone:t,email:a};this.$root.showLoader(),Object(g["f"])(n).then((function(t){200==t.data.status&&"Success"==t.data.message&&(e.$root.hideLoader(),$("#otp-modal").modal("show"))})).catch((function(t){e.$root.hideLoader(),e.$swal({type:"warning",title:"Oops!!",text:"Something went wrong try again?"})}))},verifyOtp:function(e){var t=this,a={otp:e,email:this.$store.state.user.email};this.$root.showLoader(),Object(g["g"])(a).then((function(e){200==e.data.status&&"success"==e.data.message&&(t.$root.hideLoader(),$("#otp-modal").modal("hide"),$("#turn-off-twoF").modal("show"))})).catch((function(e){t.$root.hideLoader(),t.$swal({type:"warning",title:"Error!",text:"Wrong OTP, Please try again."})}))},flagHandlerCallBack:function(){this.promptConfirmTransaction()}},filters:{formatAmount:s["a"],parseRate:function(e){return 10*Math.ceil(e/10)},getFormattedName:function(e){var t="";return t="picture"==e?"Physical Card":"e-code"==e?"E-code":"large-card"==e?"Large Card":"discounted"==e?"Discounted":"cash-receipt"==e?"Cash Receipt":"debit-receipt"==e?"Debit Receipt":"no-receipt"==e?"No Receipt":e,t}}},D=N,E=(a("578e"),Object(m["a"])(D,n,r,!1,null,"41f8e60b",null));t["default"]=E.exports},"280a":function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return i}));a("96cf");var n=a("3b8d"),r=a("adb5");function s(){return o.apply(this,arguments)}function o(){return o=Object(n["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].post("/recover_funds");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].get("/recover_funds/details?reference_code=".concat(t));case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}},"32fcd":function(e,t,a){"use strict";a("c5f6"),a("ac6a");var n=a("c1df"),r=a.n(n),s=a("280a");function o(e,t,a){var n=this;this.instance=e,this.err=t,this.data=t.response.data,this.callBack=a||null,this.showResolveDebt=function(){var e="";n.instance.$swal({imageUrl:"".concat("https://storage.googleapis.com/patricia-website-assets","/sad1.svg"),title:"Slight Problem Chief,",html:'<div class="p-10">'.concat(n.data.message,"</div>"),confirmButtonText:"View Details",showCancelButton:!0,cancelButtonText:"Later",allowOutsideClick:!1,preConfirm:function(){e="true"}}).then((function(){"true"===e&&n.showDebtSummary()}))},this.showDebtSummary=function(){var e="",t="",a=n.data.data,r="";a.flagged_transaction_details.forEach((function(e){var t='<div class="flag-trans-swal mt-5 mb-20 text-left swal-line-height"><b>Message:</b> '.concat(e.flag_message," <br><blockquote>Transaction Type: <b>").concat(e.transaction_type,"</b><br>Transaction Amount: <b>").concat(n.formatAmount(Number(e.amount)),"</b> <br>Reference Code: <b>").concat(e.reference_code,"</b> <br>Transaction Date: <b>").concat(n.formatDate(e.transaction_date),"</b></blockquote></div>");r+=t})),n.instance.$swal({title:"Transaction(s) Summary",html:r,confirmButtonText:"Resolve Now",showCancelButton:!0,cancelButtonText:"Contact Support",allowOutsideClick:!1,showLoaderOnConfirm:!0,preConfirm:function(){return Object(s["b"])().then((function(t){e="success"})).catch((function(a){402==a.response.data.status?e="insufficientBalance":(e="error",t=a.response.data.message?a.response.data.message:a.response.data.data.message)})).finally((function(){n.instance.$root.showLoader(),n.instance.$root.hideLoader()}))}}).then((function(a){a.dismiss===n.instance.$swal.DismissReason.cancel||a.dismiss===n.instance.$swal.DismissReason.esc?n.openLiveChat():"success"===e?n.instance.$swal({type:"success",title:"Resolved",text:"You can proceed now",allowOutsideClick:!1,preConfirm:function(){n.callBack()}}):"insufficientBalance"===e?n.instance.$swal({type:"error",title:"Insufficient Balance",text:"Please deposit in your wallet and try again...",confirmButtonText:"Deposit Now",showCancelButton:!0,cancelButtonText:"Later",allowOutsideClick:!1,preConfirm:function(){n.instance.$router.push("/wallet/naira")}}):t&&n.instance.$swal({type:"error",text:t})}))},this.formatAmount=function(e){var t=Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return t.format(Number(e))},this.formatDate=function(e){return r()(e).format("MMMM Do YYYY, h:mm a")},this.openLiveChat=function(){window.tidioChatApi.messageFromVisitor("Hi")}}t["a"]=o},"456d":function(e,t,a){var n=a("4bf8"),r=a("0d58");a("5eda")("keys",(function(){return function(e){return r(n(e))}}))},"578e":function(e,t,a){"use strict";var n=a("a195"),r=a.n(n);r.a},"58d9":function(e,t,a){"use strict";t["a"]=[{name:"default",currency:{name:"default",imagePath:"curr.svg"}},{name:"USA",currency:{name:"USD",imagePath:"USD.svg"}},{name:"Canada",currency:{name:"CAD",imagePath:"CAD.svg"}},{name:"Australia",currency:{name:"AUD",imagePath:"AUD.svg"}},{name:"EURO",currency:{name:"EUR",imagePath:"EUR.svg"}},{name:"United Kingdom",currency:{name:"GBP",imagePath:"GBP.svg"}},{name:"New Zealand",currency:{name:"NZD",imagePath:"NZD.svg"}},{name:"Mexico",currency:{name:"MXN",imagePath:"MXN.svg"}},{name:"Germany",currency:{name:"GER",imagePath:"GER.svg"}},{name:"Netherlands",currency:{name:"NLD",imagePath:"NLD.svg"}},{name:"Italy",currency:{name:"ITL",imagePath:"ITL.svg"}},{name:"Belgium",currency:{name:"BEL",imagePath:"BEL.svg"}},{name:"Singapore",currency:{name:"SGD",imagePath:"SGD.svg"}},{name:"Switzerland",currency:{name:"CHF",imagePath:"CHF.svg"}},{name:"Austria",currency:{name:"AUT",imagePath:"AUT.svg"}},{name:"Spain",currency:{name:"ESP",imagePath:"ESP.svg"}},{name:"Finland",currency:{name:"FIN",imagePath:"FIN.svg"}},{name:"France",currency:{name:"FRA",imagePath:"FRA.svg"}},{name:"Greece",currency:{name:"GRC",imagePath:"GRC.svg"}},{name:"Brazil",currency:{name:"BRL",imagePath:"BRL.svg"}},{name:"Japan",currency:{name:"JPY",imagePath:"JPY.svg"}},{name:"Denmark",currency:{name:"DMK",imagePath:"DMK.svg"}},{name:"Hong Kong",currency:{name:"HKG",imagePath:"HKG.svg"}},{name:"Norway",currency:{name:"NOK",imagePath:"NOK.svg"}},{name:"South Africa",currency:{name:"ZAR",imagePath:"ZAR.svg"}},{name:"Ireland",currency:{name:"IRL",imagePath:"IRL.svg"}},{name:"Sweden",currency:{name:"SWE",imagePath:"SWE.svg"}},{name:"Portugal",currency:{name:"PRT",imagePath:"PRT.svg"}},{name:"Russia",currency:{name:"RUB",imagePath:"RUB.svg"}},{name:"Turkey",currency:{name:"TUR",imagePath:"TUR.svg"}},{name:"Luxembourg",currency:{name:"LUX",imagePath:"LUX.svg"}}]},"5eda":function(e,t,a){var n=a("5ca1"),r=a("8378"),s=a("79e5");e.exports=function(e,t){var a=(r.Object||{})[e]||Object[e],o={};o[e]=t(a),n(n.S+n.F*s((function(){a(1)})),"Object",o)}},"9e36":function(e,t,a){},a195:function(e,t,a){},aa77:function(e,t,a){var n=a("5ca1"),r=a("be13"),s=a("79e5"),o=a("fdef"),i="["+o+"]",c="​",u=RegExp("^"+i+i+"*"),d=RegExp(i+i+"*$"),l=function(e,t,a){var r={},i=s((function(){return!!o[e]()||c[e]()!=c})),u=r[e]=i?t(m):o[e];a&&(r[a]=u),n(n.P+n.F*i,"String",r)},m=l.trim=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(d,"")),e};e.exports=l},c14a:function(e,t,a){"use strict";var n=a("9e36"),r=a.n(n);r.a},c5f6:function(e,t,a){"use strict";var n=a("7726"),r=a("69a8"),s=a("2d95"),o=a("5dbc"),i=a("6a99"),c=a("79e5"),u=a("9093").f,d=a("11e9").f,l=a("86cc").f,m=a("aa77").trim,h="Number",f=n[h],p=f,g=f.prototype,y=s(a("2aeb")(g))==h,v="trim"in String.prototype,w=function(e){var t=i(e,!1);if("string"==typeof t&&t.length>2){t=v?t.trim():m(t,3);var a,n,r,s=t.charCodeAt(0);if(43===s||45===s){if(a=t.charCodeAt(2),88===a||120===a)return NaN}else if(48===s){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var o,c=t.slice(2),u=0,d=c.length;u<d;u++)if(o=c.charCodeAt(u),o<48||o>r)return NaN;return parseInt(c,n)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof f&&(y?c((function(){g.valueOf.call(a)})):s(a)!=h)?o(new p(w(t)),a,f):w(t)};for(var _,b=a("9e1e")?u(p):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;b.length>C;C++)r(p,_=b[C])&&!r(f,_)&&l(f,_,d(p,_));f.prototype=g,g.constructor=f,a("2aba")(n,h,f)}},d7c2:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));a("c5f6");function n(e){var t=Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return t.format(Number(e))}function r(e){var t=Intl.NumberFormat("en-US",{minimumFractionDigits:5,maximumFractionDigits:5});return t.format(Number(e))}},e8ce:function(e,t,a){e.exports=a.p+"img/scissors.d7e182ff.svg"},eb5f:function(e,t,a){e.exports=a.p+"img/non-scissors.2df0624f.svg"},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-428acb30.e7e4f5c1.js.map