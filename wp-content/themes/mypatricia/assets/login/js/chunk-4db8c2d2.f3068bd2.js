(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4db8c2d2"],{"170b":function(t,e,s){t.exports=s.p+"img/Vtransarrow.f6048c99.svg"},"19a4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row d-flex space-between mt-20"},[a("div",{staticClass:"col-lg-6 col-md-12 m-20 p-20 panel main-sm animated fadeInLeft"},[a("div",{staticClass:"tab-content panel-inner"},[a("div",{staticClass:"tab-pane active"},[a("div",{staticClass:"row"},[a("div",[t._m(0),a("div",{staticClass:"pr-20 pl-20 pt-15 pb-15 mt-15 d-flex space-between bg-grey br-5"},[a("div",{staticClass:"pull-left d-flex"},[a("img",{attrs:{src:t.btcSvg,alt:"naira Icon"}}),a("p",{staticClass:"text-md ml-10 text-black"},[t._v("BTC Wallet")])]),a("div",{staticClass:"pull-right"},[a("p",{staticClass:"text-sm text-grey"},[t._v("\n                                        Balance: "+t._s((1*t.wallet.virtual_amount).toFixed(5))+" BTC\n                                    ")])])])]),!0===t.showScanner?a("div",{staticClass:"camera"},[a("p",{staticClass:"text-center text-primary p-20 text"},[t._v("Scan Wallet Address QR Code")]),a("qrcode-stream",{on:{decode:t.onDecode}}),a("p",{staticClass:"mt-20 text-center pointer",on:{click:function(e){return t.goBack()}}},[t._v("Go back")])],1):!1===t.showScanner?a("div",[a("div",[t._m(1),a("div",{staticClass:"input-group mt-10"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.btcAddress,expression:"btcAddress"}],staticClass:"input-control pl-10",attrs:{type:"text",placeholder:"Wallet address or Patricia's username"},domProps:{value:t.btcAddress},on:{change:function(e){return t.debouncedfetchAddress()},input:[function(e){e.target.composing||(t.btcAddress=e.target.value)},function(e){return t.showSpinner()}]}}),a("span",{staticClass:"input-group-addon scan-btc pointer",on:{click:function(e){return t.scanQrCode()}}},[a("img",{attrs:{src:s("967e"),alt:""}})])]),!1===t.showFee&&!0===t.load?a("img",{staticClass:"pull-right pr-20 mt-10",attrs:{src:s("1a24"),alt:""}}):t._e(),t.showFee?a("div",{staticClass:"d-flex animated infinite",attrs:{id:"ani"}},[a("p",{directives:[{name:"show",rawName:"v-show",value:t.patrUser,expression:"patrUser"}],staticClass:"pl-10 mt-10 text-muted"},[t._v("\n                                        You are sending to\n                                        "),a("span",{staticClass:"text-black text-bold animated infinite"},[t._v(t._s(t.receiver))])]),a("p",{directives:[{name:"show",rawName:"v-show",value:t.nonPatr,expression:"nonPatr"}]}),a("p",{staticClass:"pr-20 mt-10 text-muted text-bold pull-right"},[t._v("Fee: $"+t._s(t.fee))])]):t._e()]),a("div",[a("div",{staticClass:"form-group mt-20"},[t._m(2),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],staticClass:"input-group mt-10",staticStyle:{height:"100px",padding:"2px 10px"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}})])]),t._m(3),a("div",[a("div",{staticClass:"d-flex space-between space-btw-sm"},[a("div",{staticClass:"d-flex-col center mt-20"},[a("div",{staticClass:"input-group small-btc"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amountInBtc,expression:"amountInBtc"}],staticClass:"input-control pl-10",attrs:{type:"number",placeholder:"1,000,000",disabled:0===t.fee},domProps:{value:t.amountInBtc},on:{input:[function(e){e.target.composing||(t.amountInBtc=e.target.value)},function(e){return t.BtctoUsd()}]}}),a("span",{staticClass:"input-group-addon"},[t._v("BTC")])])]),t._m(4),t._m(5),a("div",{staticClass:"d-flex-col center mt-20"},[a("div",{staticClass:"input-group small-usd"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.amountInUsd,expression:"amountInUsd"}],staticClass:"input-control pl-10",attrs:{type:"number",placeholder:"0.088",disabled:0===t.fee},domProps:{value:t.amountInUsd},on:{input:[function(e){e.target.composing||(t.amountInUsd=e.target.value)},function(e){return t.UsdtoBtc()}]}}),a("span",{staticClass:"input-group-addon"},[t._v("USD")])])])])]),a("div",{staticClass:"d-flex center"},[a("button",{staticClass:"mt-15 btn btn-block btn-primary btn-patricia d-flex",attrs:{disabled:""===t.btcAddress||""===t.amountInBtc},on:{click:function(e){return t.proceedTransaction()}}},[a("span",{staticClass:"text-white text-bold ml-25 pl-25 self-center"},[t._v("Continue")]),a("img",{staticClass:"pr-20",attrs:{src:s("d4d9")}})])]),t.hasEnoughFunds?t._e():[a("h6",{staticClass:"text-danger text-center"},[t._v("\n                                    Chief, you don't have enough funds for this transaction,\n                                ")])]],2):t._e()])])])]),a("div",{staticClass:"col-lg-6 col-md-12 m-25 w-80 p-20 d-flex center panel animated fadeInRight"},[a("div",{staticClass:"panel-inner w-100"},[a("div",{staticClass:"p-20 "},[a("div",{staticClass:"d-flex space-between bg-blue-light pr-20 pl-20 pt-10 pb-10"},[a("p",{staticClass:"text-muted text-sm"},[t._v("YOU ARE SENDING")]),a("p",{staticClass:"text-primary pull-left text-md"},[t._v("\n                            "+t._s(t.amountInBtc)+" BTC\n                            "),a("br"),a("span",{staticClass:"text-muted text-sm"},[t._v("$"+t._s(t.amountInUsd))])])]),a("hr",{staticStyle:{border:"0.04em solid #B0DAF1"}}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-xs-2 transaction-steps"},[a("div",{staticClass:"display-block"},[a("div",{staticClass:"transaction-icon"},[a("img",{attrs:{src:t.walletSvg,width:"20",height:"20"}})]),a("div",{staticClass:"transaction-lines"}),a("div",{staticClass:"transaction-icon"},[a("img",{attrs:{src:t.flashSvg,width:"20",height:"20"}})]),a("div",{staticClass:"transaction-lines"}),a("div",{staticClass:"transaction-icon"},[a("img",{attrs:{src:t.walletSvg,width:"20",height:"20"}})])])]),a("div",{staticClass:"col-xs-10 trasaction-details"},[a("p",{staticClass:"text-sm mt-5"},[t._v("Payment Method")]),a("h4",{staticClass:"text-primary text-bold text-md mb-10"},[t._v("My BTC Wallet")]),a("hr",{staticClass:"mb-25",staticStyle:{border:"0.04em solid #B0DAF1"}}),a("p",{staticClass:"text-sm"},[t._v("Available")]),a("h4",{staticClass:"text-primary text-bold text-md mb-15 pb-10"},[t._v("Instantly")]),a("hr",{staticClass:"mb-25",staticStyle:{border:"0.04em solid #B0DAF1"}}),a("p",{staticClass:"text-sm"},[t._v("Deposit To")]),a("h4",{staticClass:"text-primary text-bold text-md"},[t._v(t._s(t.btcAddress))])]),a("p")]),a("hr",{staticStyle:{border:"0.04em solid #B0DAF1"}}),a("div",{staticClass:"d-flex space-between mt-25"},[a("p",{staticClass:"text-primary"},[t._v(t._s(t.amountInBtc)+" BTC")]),a("div",{staticClass:"transaction-lines-horizontal",staticStyle:{width:"230px"}}),a("p",{staticClass:"text-primary"},[t._v(t._s(t.amountInUsd)+" USD")])]),a("div",{staticClass:"d-flex space-between mt-25"},[a("p",{staticClass:"text-primary"},[t._v("Bitcoin Network and handling")]),a("div",{staticClass:"transaction-lines-horizontal",staticStyle:{width:"100px"}}),a("p",{staticClass:"text-primary"},[t._v("$ "+t._s(t.fee))])]),a("div",{staticClass:"d-flex space-between mt-25"},[a("p",{staticClass:"text-primary"},[t._v("Total")]),a("div",{staticClass:"transaction-lines-horizontal",staticStyle:{width:"270px"}}),a("p",{staticClass:"text-primary"},[t._v("â‚¦"+t._s(t.total))])])])])]),a("PinInput",{on:{"pin-verified":function(e){return t.confirmTrans()}}}),a("TransactionSuccess",{attrs:{activeTab:t.activeTab,redirectSec:t.redirectSec,amountSend:t.amountInBtc,userBtc:t.btcAddress}}),a("ConfirmProceedModal",{attrs:{emoji:"",declineText:"Adjust",proceedText:"Proceed"},on:{proceed:function(e){return t.showPinModal()}}},[a("div",{staticClass:"text-center proceed-content"},[a("p",[t._v("Your balance is not enough for this transaction.")]),a("p",[t._v("\n                    You can only send a maximum of "),a("strong",[t._v(t._s(t.toFixedAmount)+" BTC")]),t._v(" at the moment. "),a("br")])])]),a("ConfirmProceedModal",{attrs:{emoji:"",id:"proceed-to-buy",declineText:"Not Now",proceedText:"Yes Please"},on:{proceed:function(e){return t.proceedToBuy()}}},[a("div",{staticClass:"text-center proceed-content"},[a("p",[t._v("You cannot send out any btc at this time due to insufficient balance.")]),a("p",[t._v("\n                    Do you wish to top up your balance?\n                ")])])])],1)])},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"ml-5 text-primary text-bold text-sm"},[t._v("Send Bitcoin From")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"ml-5 text-primary text-bold text-sm mt-20"},[t._v("To")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"text-primary text-bold text-sm ml-5"},[t._v("\n                                            Description\n                                            "),s("span",{staticClass:"text-muted"},[t._v("(optional)")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"border-bottom"},[s("p",{staticClass:"text-primary text-bold text-sm mt-25"},[t._v("Amount")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"arrow-sm"},[a("img",{staticClass:"mt-20 trans_arrow",attrs:{src:s("6052"),alt:""}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"arrowv-sm"},[a("img",{staticClass:"mt-10 ",attrs:{src:s("170b"),alt:""}})])}],i=(s("7f7f"),s("6762"),s("2fdb"),s("c5f6"),s("9a3e")),r=s("b6cc"),o=s("c881"),c=s("2ef0"),d=s.n(c),l=function(){return Promise.all([s.e("chunk-2d0ac39a"),s.e("chunk-542e087e")]).then(s.bind(null,"73f8"))},u=function(){return s.e("chunk-7fadacdb").then(s.bind(null,"9688"))},m=function(){return s.e("chunk-6f386506").then(s.bind(null,"a7bc"))},p={props:["rates","wallet","activeTab"],components:{QrcodeStream:i["QrcodeStream"],PinInput:l,TransactionSuccess:u,ConfirmProceedModal:m},data:function(){return{btcSvg:"https://storage.googleapis.com/patricia-website-assets/btc.5e913a68.svg",walletSvg:"https://storage.googleapis.com/patricia-website-assets/wallet.b3ed2495.svg",flashSvg:"https://storage.googleapis.com/patricia-website-assets/flash.2757a040.svg",btcAddress:"",showScanner:!1,receiver:"",desc:"",patrUser:!1,showFee:!1,nonPatr:!1,fee:0,amountInUsd:"",amountInBtc:"",toFixedAmount:"",total:0,redirectSec:5,load:!1,hasEnoughFunds:!0,disableBtn:!0,deductedAmount:!1,invalidAmount:!1,feeInBtc:""}},created:function(){this.debouncedfetchAddress=d.a.debounce(this.fetchAddressDetails,1e3)},updated:function(){this.debouncedfetchAddress()},methods:{showPinModal:function(){$("#confirm-proceed").modal("hide"),$("#pin-modal").modal("show"),this.amountInBtc=this.deductedAmountFigure},proceedTransaction:function(){this.checkBalance(),""===this.amountInUsd||""==this.amountInBtc||this.deductedAmount||this.invalidAmount?this.deductedAmount&&""!=this.amountInBtc&&""!==this.amountInUsd&&!this.invalidAmount?$("#confirm-proceed").modal("show"):""!==this.amountInUsd&&""!=this.amountInBtc&&!this.deductedAmount&&this.invalidAmount?$("#proceed-to-buy").modal("show"):""===this.btcAddress?this.$swal({type:"error",text:"Please enter a BTC address or a recepient's Patricia Username"}):this.$swal({type:"error",title:"Incomplete fields",text:"Please fill in the required fields"}):$("#pin-modal").modal("show")},checkBalance:function(){var t=this.rates.btcToUsd.rate_float,e=1/t;this.feeInBtc=this.fee/t,this.verifyFunds()?(this.invalidAmount=!1,this.deductedAmount=!1):this.wallet.virtual_amount<Number(this.amountInBtc)+this.feeInBtc+e&&Number(this.amountInBtc)<this.wallet.virtual_amount?this.invalidAmount=!0:(this.invalidAmount=!1,this.deductedAmountFigure=Number(this.wallet.virtual_amount-this.feeInBtc),this.deductedAmountFigure<0?(this.invalidAmount=!0,this.deductedAmount=!1):(this.invalidAmount=!1,this.deductedAmount=!0),this.toFixedAmount=(this.wallet.virtual_amount-this.feeInBtc).toFixed(5))},proceedToBuy:function(){$("#proceed-to-buy").modal("hide"),this.$parent.activeTab="Buy"},goBacktoHome:function(){this.$router.go()},confimedTranaction:function(){$("#pin-modal").modal("hide"),$("#transaction-successful").modal("show"),this.$root.hideLoader(),setTimeout(this.goToDashboard,"5000"),setInterval(this.countdown,"1000")},confirmTrans:function(){var t=this;this.$root.showLoader(),Object(o["c"])(this.amountInBtc,this.desc,this.btcAddress).then((function(e){t.confimedTranaction()})).catch((function(e){t.$root.hideLoader(),422===e.response.data.status?t.$swal({type:"error",title:"Validation Failed",text:e.response.data.data.error.amount[0]}):t.$swal({type:"error",title:"Oops",text:e.response.data.message?e.response.data.message:e.response.data.data.message})}))},showSpinner:function(){this.load=!0},countdown:function(){this.redirectSec=this.redirectSec-1},goToDashboard:function(){this.$router.go(),$("#transaction-successful").modal("hide")},formatAdrress:function(t){if(t.includes(":")&&t.includes("?")){var e=1+t.indexOf(":"),s=t.indexOf("?"),a=t.substring(e,s);return a}if(t.includes(":")){e=1+t.indexOf(":"),a=t.substring(e);return a}return t},onDecode:function(t){this.showScanner=!1,this.btcAddress=this.formatAdrress(t)},fetchAddressDetails:function(){var t=this;""!=this.btcAddress?Object(r["b"])(this.btcAddress).then((function(e){t.receiver=e.data.data.name,t.patrUser=!0,t.showFee=!0,Object(r["c"])().then((function(e){t.fee=e.data.data.internalSendFees})).catch((function(t){}))})).catch((function(e){t.showFee=!0,t.patrUser=!1,t.nonpatr=!0,Object(r["c"])().then((function(e){t.fee=e.data.data.totalExternalSendFee})).catch((function(e){t.$root.hideLoader()}))})):(this.showFee=!1,this.load=!1)},scanQrCode:function(){this.showScanner=!0},goBack:function(){this.showScanner=!1},UsdtoBtc:function(){this.amountInBtc=(this.amountInUsd/this.rates.btcToUsd.rate_float).toFixed(5),this.total=(Number(this.amountInUsd)+Number(this.fee))*Number(this.rates.usdToNairaSellRates[4].rate),this.verifyFunds()},BtctoUsd:function(){this.amountInUsd=(this.amountInBtc*this.rates.btcToUsd.rate_float).toFixed(5),this.total=(Number(this.amountInUsd)+Number(this.fee))*Number(this.rates.usdToNairaSellRates[4].rate),this.verifyFunds()},verifyFunds:function(){var t=this.wallet.virtual_amount;return Number(this.amountInBtc)>=0&&t>Number(this.amountInBtc)+this.feeInBtc?(this.hasEnoughFunds=!0,this.disableBtn=!1,!0):(this.hasEnoughFunds=!1,this.disableBtn=!0,!1)}}},h=p,f=(s("76da"),s("2877")),v=Object(f["a"])(h,a,n,!1,null,"19191925",null);e["default"]=v.exports},"1a24":function(t,e,s){t.exports=s.p+"img/load.f2e89543.svg"},6052:function(t,e,s){t.exports=s.p+"img/transarrow.fb5442cc.svg"},"76da":function(t,e,s){"use strict";var a=s("f9d3"),n=s.n(a);n.a},"967e":function(t,e,s){t.exports=s.p+"img/scan.1b412536.svg"},c881:function(t,e,s){"use strict";s.d(e,"a",(function(){return i})),s.d(e,"b",(function(){return o})),s.d(e,"c",(function(){return d}));s("96cf");var a=s("3b8d"),n=s("adb5");function i(t){return r.apply(this,arguments)}function r(){return r=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post("bitcoin/buy",{amount:e});case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)}))),r.apply(this,arguments)}function o(t){return c.apply(this,arguments)}function c(){return c=Object(a["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post("bitcoin/sell",{amount:e});case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function d(t,e,s){return l.apply(this,arguments)}function l(){return l=Object(a["a"])(regeneratorRuntime.mark((function t(e,s,a){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n["a"].post("bitcoin/send",{amount:e,identifier:a,message:s});case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}},d4d9:function(t,e,s){t.exports=s.p+"img/arrow.24aaa2a2.svg"},f9d3:function(t,e,s){}}]);
//# sourceMappingURL=chunk-4db8c2d2.f3068bd2.js.map