(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["RegisterEmail.routes"],{"2fdb":function(t,e,r){"use strict";var n=r("5ca1"),a=r("d2c8"),i="includes";n(n.P+n.F*r("5147")(i),"String",{includes:function(t){return!!~a(this,t,i).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"456d":function(t,e,r){var n=r("4bf8"),a=r("0d58");r("5eda")("keys",(function(){return function(t){return a(n(t))}}))},5147:function(t,e,r){var n=r("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,!"/./"[t](e)}catch(a){}}return!0}},"5eda":function(t,e,r){var n=r("5ca1"),a=r("8378"),i=r("79e5");t.exports=function(t,e){var r=(a.Object||{})[t]||Object[t],s={};s[t]=e(r),n(n.S+n.F*i((function(){r(1)})),"Object",s)}},6762:function(t,e,r){"use strict";var n=r("5ca1"),a=r("c366")(!0);n(n.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")("includes")},"98b2":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-7 image-con visible-md visible-lg text-white",style:{background:"linear-gradient(0deg,rgba(45, 156, 219, 0.7),rgba(45, 156, 219, 0.7)), url("+t.emailImgRegister+")",backgroundSize:"cover"}},[t._m(0)]),r("div",{staticClass:"col-md-5 row text-center"},[r("ProgressBar",{attrs:{width:"50%"}}),r("div",{staticClass:"auth text-center col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1"},[r("h4",{staticClass:"text-primary text-bold"},[t._v("What's your email address & country?")]),r("br"),r("p-textbox",{attrs:{type:"text",placeholder:"Email",icon:"icon-envelop5"},model:{value:t.user.email,callback:function(e){t.$set(t.user,"email",e)},expression:"user.email"}}),r("br"),r("select",{directives:[{name:"model",rawName:"v-model",value:t.user.country,expression:"user.country"}],staticClass:"form-control",attrs:{required:!0},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"country",e.target.multiple?r:r[0])},function(e){return t.updateCountries(e)}]}},t._l(t.countryPhone,(function(e){return r("option",{key:e.uuid,domProps:{value:e.code}},[t._v(t._s(e.name))])})),0),r("br"),r("br"),r("p-button",{attrs:{type:"sumbit",text:"Next",classNames:"mt-20"},on:{click:t.processStepTwo}}),r("BackButton",{attrs:{isFirst:!0,link:"name"}}),r("br"),r("p",[t._v("\n          Already a User? |\n          "),r("router-link",{staticClass:"text-primary text-bold",attrs:{to:"/login"}},[t._v("Login now")])],1)],1),r("img",{staticClass:"mt-20",attrs:{width:"260",src:t.emailImg,alt:""}})],1)])])},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"image-con-text"},[r("h1",[t._v("\n          Giftcard Trading\n          "),r("br"),t._v("Redefined\n        ")]),r("h6",{staticClass:"text-bold"},[t._v("SIGN UP . TRADE CARDS . GET PAID")])])}],i=(r("7514"),r("456d"),r("6762"),r("2fdb"),r("ac6a"),r("4a7a")),s=r.n(i),u=r("f90c"),c=r.n(u),o=r("e0a5"),l=(r("b209"),r("2ef0"),function(){return r.e("chunk-145cffda").then(r.bind(null,"6b3b"))}),p=function(){return r.e("chunk-28cbbf04").then(r.bind(null,"2b7a"))},d=function(){return r.e("chunk-479610aa").then(r.bind(null,"af5a"))},h=function(){return r.e("chunk-0c8eba2c").then(r.bind(null,"c148"))},f={components:{"p-button":l,"p-textbox":p,"v-select":s.a,ProgressBar:d,BackButton:h},data:function(){return{countryPhone:[],error:"",email:this.$store.state.user.email?this.$store.state.user.email:"",country_id:"",selected:"",user:{},emailImg:"https://storage.googleapis.com/patricia-website-assets/email.34ea4c12.svg",emailImgRegister:"https://storage.googleapis.com/patricia-website-assets/laptop_email.b0884f15.png"}},created:function(){var t=this;this.$root.showLoader(),Object(o["b"])().then((function(e){var r=e.data.data.countries,n={code:"",dialing_code:"",country_id:""};r.forEach((function(t,e){"NG"==t.code&&(n=t)})),t.user.country=n.code,t.user.country_id=n.uuid,t.countryPhone=r,t.$root.hideLoader()})).catch((function(e){return t.$swal({imageUrl:"https://storage.googleapis.com/patricia-website-assets/sad1.svg",title:"Chief",text:"An error occured! Please Reload again!"}),t.$root.hideLoader(),e}))},mounted:function(){this.user=this.$store.getters.getUserRegister,0==Object.keys(this.user).includes("email")&&(this.user.email=""),0==Object.keys(this.user).includes("country_id")&&(this.user.code=this.countryPhone[0].code,this.user.dialing_code=this.countryPhone[0].dialing_code,this.user.country_id=this.countryPhone[0].uuid)},methods:{updateCountries:function(t){this.user.code=t.target.value,this.user.dialing_code=this.countryPhone.find((function(e){return e.code==t.target.value})).dialing_code,this.user.country_id=this.countryPhone.find((function(e){return e.code==t.target.value})).uuid},validate:function(){var t=!1;return this.user.email?c.a.isEmail(this.user.email)?t=!0:this.error="Invalid email provided":this.error="Email is required",t},proceed:function(){this.$store.dispatch("SET_USER",this.user),this.$router.push("/register/phone")},processStepTwo:function(){var t=this;if(!this.validate())return this.$swal({imageUrl:"https://storage.googleapis.com/patricia-website-assets/sad1.svg",title:"Chief",text:this.error}),!1;this.$root.showLoader(),Object(o["d"])(this.user.email).then((function(e){if(!e.data.data.is_available)return t.$swal({imageUrl:"https://storage.googleapis.com/patricia-website-assets/sad1.svg",title:"Chief",text:"Email already exist"}),t.$root.hideLoader(),!1;t.proceed(),t.$root.hideLoader()})).catch((function(e){return t.$swal({imageUrl:"https://storage.googleapis.com/patricia-website-assets/sad1.svg",title:"Chief",text:"An error occured! Please try again!"}),t.$root.hideLoader(),!1}))}}},m=f,g=(r("b633"),r("2877")),b=Object(g["a"])(m,n,a,!1,null,"dd085e08",null);e["default"]=b.exports},b209:function(t,e,r){"use strict";r.d(e,"b",(function(){return n})),r.d(e,"a",(function(){return a}));r("1940"),r("3022");var n=function(t,e){},a=function(t,e){}},b633:function(t,e,r){"use strict";var n=r("de08"),a=r.n(n);a.a},d2c8:function(t,e,r){var n=r("aae3"),a=r("be13");t.exports=function(t,e,r){if(n(e))throw TypeError("String#"+r+" doesn't accept regex!");return String(a(t))}},de08:function(t,e,r){},e0a5:function(t,e,r){"use strict";r.d(e,"c",(function(){return i})),r.d(e,"d",(function(){return u})),r.d(e,"f",(function(){return o})),r.d(e,"e",(function(){return p})),r.d(e,"j",(function(){return h})),r.d(e,"b",(function(){return m})),r.d(e,"g",(function(){return b})),r.d(e,"i",(function(){return y})),r.d(e,"k",(function(){return x})),r.d(e,"h",(function(){return k})),r.d(e,"a",(function(){return O}));r("96cf");var n=r("3b8d"),a=r("adb5");function i(t){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/check-availability",{auth_input:e});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function u(t){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/check-email-availability",{auth_input:e});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}function o(t){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/check-username-availability",{auth_input:e});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function p(t,e,r){return d.apply(this,arguments)}function d(){return d=Object(n["a"])(regeneratorRuntime.mark((function t(e,r,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/check-phone-availability",{phone:e,uuid:r,user_id:n});case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)}))),d.apply(this,arguments)}function h(t){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/register?callback_url=https://app.mypatricia.co/verify_phone_country",e);case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function m(){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].get("/country");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function b(t){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function t(e){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/resendOtp",{user_id:e});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),v.apply(this,arguments)}function y(t,e){return w.apply(this,arguments)}function w(){return w=Object(n["a"])(regeneratorRuntime.mark((function t(e,r){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/sendOtp",{email:e,number:r});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function x(t,e,r){return _.apply(this,arguments)}function _(){return _=Object(n["a"])(regeneratorRuntime.mark((function t(e,r,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/validate/otp",{email:e,phone:r,otp:n});case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)}))),_.apply(this,arguments)}function k(t,e,r,n){return R.apply(this,arguments)}function R(){return R=Object(n["a"])(regeneratorRuntime.mark((function t(e,r,n,i){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/register-step-two",{user_id:e,country_id:r,phone:n,dialing_code:i});case 2:return s=t.sent,t.abrupt("return",s);case 4:case"end":return t.stop()}}),t)}))),R.apply(this,arguments)}function O(t,e,r){return j.apply(this,arguments)}function j(){return j=Object(n["a"])(regeneratorRuntime.mark((function t(e,r,n){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/verify/phoneOtp",{user_id:e,otp:r,redirect_callback:n});case 2:return i=t.sent,t.abrupt("return",i);case 4:case"end":return t.stop()}}),t)}))),j.apply(this,arguments)}}}]);
//# sourceMappingURL=RegisterEmail.routes.cbb360c3.js.map