(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7c9bd2c2"],{1297:function(t,e,n){"use strict";n.d(e,"g",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"e",(function(){return c})),n.d(e,"d",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"h",(function(){return v})),n.d(e,"b",(function(){return b})),n.d(e,"f",(function(){return y})),n.d(e,"a",(function(){return S}));n("96cf");var r=n("3b8d"),a=n("adb5");function i(t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("user/update/pin",{pin:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function o(t,e){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("user/verify/pin",{pin:e,is_reset_pin:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function c(){return p.apply(this,arguments)}function p(){return p=Object(r["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/auth/2fa/generate-code");case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)}))),p.apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/auth/2fa/enable",{otp:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(t){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/auth/2fa/disable",{otp:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),h.apply(this,arguments)}function v(t){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/user/verify/password",{password:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}function b(t,e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/delete_account",{uuid:e,callback_url:n});case 2:return r=t.sent,t.abrupt("return",r);case 4:case"end":return t.stop()}}),t)}))),g.apply(this,arguments)}function y(t){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/reset_userpin",{uuid:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),w.apply(this,arguments)}function S(t){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].post("/resend/verification_email",{email:e});case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)}))),x.apply(this,arguments)}},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),a=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},"2baa":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"security-pin"}},[n("security-panel",{attrs:{title:"Setup PIN",description:"Your 4 digit pin is used to authorize all transactions.",button:{text:t.userHasPin?"Change PIN":"Set up",modalId:"pinModal"}},on:{buttonClick:t.startPinEntry}}),n("basic-modal",{ref:"pinModal",attrs:{footer:!1},on:{afterClose:t.resetModalData}},[n("div",{attrs:{slot:"body"},slot:"body"},[n("div",{staticClass:"text-center text-default"},[n("div",{staticClass:"heading"},[n("h1",{staticClass:"text-semibold-thick"},[t._v(t._s(t.currentStateData.heading))]),n("small",{staticClass:"text-thin"},[t._v(t._s(t.currentStateData.description))])]),n("form",{staticClass:"pin-form mb-20",on:{submit:function(e){return e.preventDefault(),t.processPinInput(e)}}},[n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-xs-3 col-sm-2 col-sm-offset-2"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentStateData.pin[0],expression:"currentStateData.pin[0]"}],ref:"first",staticClass:"form-control pin",attrs:{id:"first",type:"password",maxlength:"1"},domProps:{value:t.currentStateData.pin[0]},on:{keyup:function(e){return t.keyUpEventHandler(e,0)},input:function(e){e.target.composing||t.$set(t.currentStateData.pin,0,e.target.value)}}})])]),n("div",{staticClass:"col-xs-3 col-sm-2 no-margin"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentStateData.pin[1],expression:"currentStateData.pin[1]"}],ref:"second",staticClass:"form-control pin",attrs:{id:"second",type:"password",maxlength:"1"},domProps:{value:t.currentStateData.pin[1]},on:{keyup:function(e){return t.keyUpEventHandler(e,1)},input:function(e){e.target.composing||t.$set(t.currentStateData.pin,1,e.target.value)}}})])]),n("div",{staticClass:"col-xs-3 col-sm-2 no-margin"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentStateData.pin[2],expression:"currentStateData.pin[2]"}],ref:"third",staticClass:"form-control pin",attrs:{id:"third",type:"password",maxlength:"1"},domProps:{value:t.currentStateData.pin[2]},on:{keyup:function(e){return t.keyUpEventHandler(e,2)},input:function(e){e.target.composing||t.$set(t.currentStateData.pin,2,e.target.value)}}})])]),n("div",{staticClass:"col-xs-3 col-sm-2 no-margin"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentStateData.pin[3],expression:"currentStateData.pin[3]"}],ref:"fourth",staticClass:"form-control pin",attrs:{id:"fourth",type:"password",maxlength:"1"},domProps:{value:t.currentStateData.pin[3]},on:{keyup:function(e){return t.keyUpEventHandler(e,3)},input:function(e){e.target.composing||t.$set(t.currentStateData.pin,3,e.target.value)}}})])])]),""!==t.pinError?n("div",{staticClass:"form-group row"},[n("div",{staticClass:"col-sm-12"},[n("small",{staticClass:"text-danger display-block"},[t._v(t._s(t.pinError))])])]):t._e(),n("div",{staticClass:"submit"},[n("button",{directives:[{name:"show",rawName:"v-show",value:t.currentStateData.showBack,expression:"currentStateData.showBack"}],staticClass:"btn btn-default px-30 position-left",attrs:{type:"button"},on:{click:t.moveToBackState}},[t._v("Back")]),n("button",{staticClass:"btn btn-primary px-30",attrs:{type:"submit",disabled:!t.pinIsValid}},[t._v("\n                            "+t._s(t.currentStateData.buttonText)+"\n                            "),n("i",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"icon-spinner2 spinner position-right ml-20"})])])])])])])],1)},a=[],i=(n("8e6e"),n("456d"),n("75fc")),s=(n("c5f6"),n("ac6a"),n("8615"),n("bd86")),o=n("2ef0"),u=n.n(o),c=n("2f62"),p=n("e49c"),f=n("1297");function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(n,!0).forEach((function(e){Object(s["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=function(){return n.e("chunk-48f02545").then(n.bind(null,"fcfe"))},v=function(){return n.e("chunk-b4692ec2").then(n.bind(null,"86bf"))},m={name:"security-pin",mixins:[p["a"]],components:{"security-panel":h,"basic-modal":v},data:function(){return{loading:!1,modalStates:["old","new","confirm"],currentModalState:"",pinError:"",pinModalStateData:{new:{heading:"Setup your new 4-digit PIN",description:"This new PIN will now be used to authorize all transactions",buttonText:"Continue",pin:{0:"",1:"",2:"",3:""},showBack:this.userHasPin},old:{heading:"Set Up PIN",description:"Input the 4-digit PIN sent to your email address",buttonText:"Continue",pin:{0:"",1:"",2:"",3:""},showBack:!1},confirm:{heading:"Confirm your 4-digit PIN",description:"Ensure you re-enter your PIN correctly to complete the setup",buttonText:"Finish",pin:{0:"",1:"",2:"",3:""},showBack:!0}},is_reset_pin:!0}},computed:d({},Object(c["c"])(["getUser"]),{pinIsValid:function(){var t=Object.values(this.currentStateData.pin);return t.every((function(t){return!!t}))&&4===t.length},currentStateData:function(){return this.pinModalStateData[this.currentModalState]},userHasPin:function(){return!!this.getUser.four_digit_pin}}),created:function(){this.currentModalState=this.userHasPin?"old":"new"},methods:{startPinEntry:function(){this.$refs.pinModal.open()},keyUpEventHandler:function(t,e){this.keyIsNumeric(t),this.keyMonitor(t,e)},keyMonitor:function(t,e){var n=["first","second","third","fourth"],r=this.currentStateData.pin;if(void 0!==r[e]&&""!==r[e]){var a=n[Number(e)+1];a&&!this.pinIsValid&&this.$refs[a].focus()}},moveToNextState:function(){var t=this.modalStates.indexOf(this.currentModalState);this.currentModalState=this.modalStates[t+1],void 0===this.currentModalState&&this.resetModalData()},moveToBackState:function(){var t=this.modalStates.indexOf(this.currentModalState);this.currentModalState=this.modalStates[t-1],void 0===this.currentModalState&&(this.currentModalState=this.userHasPin?"old":"new")},processPinInput:function(){this.currentModalState;"new"===this.currentModalState?this.moveToNextState():"old"===this.currentModalState?this.verifyPin():this.confirmNewPin()&&this.savePin()},confirmNewPin:function(){var t=this.pinModalStateData["new"].pin,e=u.a.isEqual(this.currentStateData.pin,t);return this.pinError="",e||(this.pinError="Sorry Chief, your PIN does not match"),e},verifyPin:function(){var t=this;if(this.pinIsValid){var e=Object.values(this.currentStateData.pin).join("");this.loading=!0,Object(f["i"])(e,this.is_reset_pin).then((function(e){t.loading=!1;var n=e.data.data;n.fail?t.pinError="Sorry Chief, this PIN is not correct":(t.pinError="",t.moveToNextState())})).catch((function(e){if(t.loading=!1,422===e.response.status){var n,r=e.response.data.errors,a=(n=[]).concat.apply(n,Object(i["a"])(Object.values(r)));t.$swal({type:"error",title:"Chief",text:a[0]})}else{var s=e.response.data.data;t.$swal({type:"error",title:"Chief",text:s.message})}}))}},savePin:function(){var t=this;if(this.pinIsValid){var e=Object.values(this.currentStateData.pin).join("");this.loading=!0,Object(f["g"])(e).then((function(n){t.loading=!1;var r=t.$store.getters.getUser;r.pin_status=1,t.$cookies.set("user",r);var a=t;t.$swal({type:"success",title:"Chief",text:"Your 4-digit PIN has been saved successfully."}).then((function(){a.$refs.pinModal.close(),a.currentModalState="old",a.updatePinInStore(e)}))})).catch((function(e){if(t.loading=!1,422===e.response.status){var n,r=e.response.data.errors,a=(n=[]).concat.apply(n,Object(i["a"])(Object.values(r)));t.$swal({type:"error",title:"Chief",text:a[0]})}else{var s=e.response.data.data;t.$swal({type:"error",title:"Chief",text:s.message})}}))}},updatePinInStore:function(t){var e=this.getUser;e.four_digit_pin=t,this.$store.dispatch("SET_USER",e),this.$cookies.set("user",e)},resetModalData:function(){this.currentModalState=this.userHasPin?"old":"new",this.pinError="";var t=this;this.modalStates.forEach((function(e){t.pinModalStateData[e].pin={0:"",1:"",2:"",3:""}}))}}},b=m,g=(n("5eeb"),n("2877")),y=Object(g["a"])(b,r,a,!1,null,"ca627b14",null);e["default"]=y.exports},"454f":function(t,e,n){n("46a7");var r=n("584a").Object;t.exports=function(t,e,n){return r.defineProperty(t,e,n)}},"456d":function(t,e,n){var r=n("4bf8"),a=n("0d58");n("5eda")("keys",(function(){return function(t){return a(r(t))}}))},"46a7":function(t,e,n){var r=n("63b6");r(r.S+r.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"504c":function(t,e,n){var r=n("9e1e"),a=n("0d58"),i=n("6821"),s=n("52a7").f;t.exports=function(t){return function(e){var n,o=i(e),u=a(o),c=u.length,p=0,f=[];while(c>p)n=u[p++],r&&!s.call(o,n)||f.push(t?[n,o[n]]:o[n]);return f}}},"549b":function(t,e,n){"use strict";var r=n("d864"),a=n("63b6"),i=n("241e"),s=n("b0dc"),o=n("3702"),u=n("b447"),c=n("20fd"),p=n("7cd6");a(a.S+a.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,a,f,l=i(t),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,b=0,g=p(l);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&o(g))for(e=u(l.length),n=new d(e);e>b;b++)c(n,b,m?v(l[b],b):l[b]);else for(f=g.call(l),n=new d;!(a=f.next()).done;b++)c(n,b,m?s(f,v,[a.value,b],!0):a.value);return n.length=b,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"5eda":function(t,e,n){var r=n("5ca1"),a=n("8378"),i=n("79e5");t.exports=function(t,e){var n=(a.Object||{})[t]||Object[t],s={};s[t]=e(n),r(r.S+r.F*i((function(){n(1)})),"Object",s)}},"5eeb":function(t,e,n){"use strict";var r=n("8fea"),a=n.n(r);a.a},"75fc":function(t,e,n){"use strict";var r=n("a745"),a=n.n(r);function i(t){if(a()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var s=n("774e"),o=n.n(s),u=n("c8bb"),c=n.n(u);function p(t){if(c()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return o()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){return i(t)||p(t)||f()}n.d(e,"a",(function(){return l}))},"774e":function(t,e,n){t.exports=n("d2d5")},"85f2":function(t,e,n){t.exports=n("454f")},8615:function(t,e,n){var r=n("5ca1"),a=n("504c")(!1);r(r.S,"Object",{values:function(t){return a(t)}})},"8e6e":function(t,e,n){var r=n("5ca1"),a=n("990b"),i=n("6821"),s=n("11e9"),o=n("f1ae");r(r.S,"Object",{getOwnPropertyDescriptors:function(t){var e,n,r=i(t),u=s.f,c=a(r),p={},f=0;while(c.length>f)n=u(r,e=c[f++]),void 0!==n&&o(p,e,n);return p}})},"8fea":function(t,e,n){},"95d5":function(t,e,n){var r=n("40c3"),a=n("5168")("iterator"),i=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||i.hasOwnProperty(r(e))}},"990b":function(t,e,n){var r=n("9093"),a=n("2621"),i=n("cb7c"),s=n("7726").Reflect;t.exports=s&&s.ownKeys||function(t){var e=r.f(i(t)),n=a.f;return n?e.concat(n(t)):e}},a745:function(t,e,n){t.exports=n("f410")},aa77:function(t,e,n){var r=n("5ca1"),a=n("be13"),i=n("79e5"),s=n("fdef"),o="["+s+"]",u="​",c=RegExp("^"+o+o+"*"),p=RegExp(o+o+"*$"),f=function(t,e,n){var a={},o=i((function(){return!!s[t]()||u[t]()!=u})),c=a[t]=o?e(l):s[t];n&&(a[n]=c),r(r.P+r.F*o,"String",a)},l=f.trim=function(t,e){return t=String(a(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(p,"")),t};t.exports=f},bd86:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("85f2"),a=n.n(r);function i(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},c5f6:function(t,e,n){"use strict";var r=n("7726"),a=n("69a8"),i=n("2d95"),s=n("5dbc"),o=n("6a99"),u=n("79e5"),c=n("9093").f,p=n("11e9").f,f=n("86cc").f,l=n("aa77").trim,d="Number",h=r[d],v=h,m=h.prototype,b=i(n("2aeb")(m))==d,g="trim"in String.prototype,y=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():l(e,3);var n,r,a,i=e.charCodeAt(0);if(43===i||45===i){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===i){switch(e.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+e}for(var s,u=e.slice(2),c=0,p=u.length;c<p;c++)if(s=u.charCodeAt(c),s<48||s>a)return NaN;return parseInt(u,r)}}return+e};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof h&&(b?u((function(){m.valueOf.call(n)})):i(n)!=d)?s(new v(y(e)),n,h):y(e)};for(var w,S=n("9e1e")?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;S.length>x;x++)a(v,w=S[x])&&!a(h,w)&&f(h,w,p(v,w));h.prototype=m,m.constructor=h,n("2aba")(r,d,h)}},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},e49c:function(t,e,n){"use strict";e["a"]={methods:{keyIsNumeric:function(t){var e=t.which||t.keyCode;return 46!==e&&e>31&&(e<48||e>57)&&t.preventDefault(),!0}}}},f1ae:function(t,e,n){"use strict";var r=n("86cc"),a=n("4630");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-7c9bd2c2.d3472021.js.map